<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
<title type="text">EK</title>
<generator uri="https://github.com/jekyll/jekyll">Jekyll</generator>
<link rel="self" type="application/atom+xml" href="https://jivoi.github.io/feed.xml" />
<link rel="alternate" type="text/html" href="https://jivoi.github.io" />
<icon>https://i.imgur.com/s7cqI3w.jpg</icon>
<updated>2015-06-26T13:24:58+03:00</updated>
<id>https://jivoi.github.io/</id>
<author>
  <name>EK</name>
  <uri>https://jivoi.github.io/</uri>
  <email>ekoz@protonmail.com</email>
</author>


<entry>
  <title type="html"><![CDATA[4G Huawei E392 with Linux]]></title>
  <link rel="alternate" type="text/html" href="https://jivoi.github.io/2015/06/26/huawei-e392-with-linux/" />
  <id>https://jivoi.github.io/2015/06/26/huawei-e392-with-linux</id>
  <updated>2015-06-26 12:40:49 +0300T00:00:00-00:00</updated>
  <published>2015-06-26T00:00:00+03:00</published>
  
  <author>
    <name>EK</name>
    <uri>https://jivoi.github.io</uri>
    <email>ekoz@protonmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Working with 4G modem Huawei E392 in Linux and OpenWRT&lt;/p&gt;

&lt;h3 id=&quot;ubuntu-linux&quot;&gt;Ubuntu Linux&lt;/h3&gt;

&lt;h5 id=&quot;install-pkgs&quot;&gt;Install pkgs&lt;/h5&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;apt-get install wvdial
wvdialconf&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5 id=&quot;add-to-etcwvdialconf&quot;&gt;Add to /etc/wvdial.conf&lt;/h5&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;Dialer Defaults&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;Init1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; ATZ
&lt;span class=&quot;nv&quot;&gt;Init2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; AT+CGDCONT&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1,&lt;span class=&quot;s2&quot;&gt;&amp;quot;IP&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;Internet&amp;quot;&lt;/span&gt;
Modem &lt;span class=&quot;nv&quot;&gt;Type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; USB Modem
&lt;span class=&quot;nv&quot;&gt;Baud&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 57600
New &lt;span class=&quot;nv&quot;&gt;PPPD&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; yes
&lt;span class=&quot;nv&quot;&gt;Modem&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; /dev/ttyUSB0
&lt;span class=&quot;nv&quot;&gt;Phone&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; *99#
&lt;span class=&quot;nv&quot;&gt;Password&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt; 
&lt;span class=&quot;nv&quot;&gt;Username&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;
Stupid &lt;span class=&quot;nv&quot;&gt;Mode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; yes&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5 id=&quot;auto-reconnect&quot;&gt;Auto Reconnect&lt;/h5&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#! /bin/bash&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;
   &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; : &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
       wvdial
       sleep 10
   &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5 id=&quot;system-network-configuration&quot;&gt;System network configuration&lt;/h5&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;/etc/network/interfaces
auto ppp0
iface ppp0 inet wvdial&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;openwrt-asus-wl600g&quot;&gt;OpenWRT Asus Wl600g&lt;/h3&gt;

&lt;h5 id=&quot;links&quot;&gt;Links&lt;/h5&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://wiki.openwrt.org/toh/asus/wl600g&quot;&gt;wl600g&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://wiki.openwrt.org/doc/howto/basic.config&quot;&gt;basic.config&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://wiki.openwrt.org/doc/recipes/ltedongle&quot;&gt;ltedongle&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://intelnuc.blogspot.ru/2014/10/turn-your-old-wireless-router-into-lte.html&quot;&gt;turn-your-old-wireless-router-into-lte&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;download-and-install&quot;&gt;Download and Install&lt;/h5&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;Load the image into your router via the web interface http://192.168.1.1 or tftp
wget http://downloads.openwrt.org/backfire/10.03.1/brcm63xx/openwrt-96348GW-generic-squashfs-cfe.bin
tftp -i 192.168.1.1 PUT openwrt-96348GW-generic-squashfs-cfe.bin&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5 id=&quot;enable-ssh&quot;&gt;Enable SSH&lt;/h5&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;Web -&amp;gt; System-Administration -&amp;gt; SSH Access -&amp;gt; Allow remote hosts to connect to &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;SSH forwarded ports&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5 id=&quot;install-required-packages&quot;&gt;Install required packages&lt;/h5&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;telnet&lt;span class=&quot;se&quot;&gt;\s&lt;/span&gt;sh 192.168.1.1
opkg update
opkg install kmod-mii kmod-usb-net kmod-usb-net-qmi-wwan kmod-usb-serial kmod-usb-serial-option kmod-usb-serial-wwan kmod-usb-wdm uqmi usb-modeswitch
reboot&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5 id=&quot;configuring-modem&quot;&gt;Configuring modem&lt;/h5&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;root@OpenWrt:~# ls -l /dev/cdc-wdm0
root@OpenWrt:~# dmesg
root@OpenWrt:~# cat /sys/kernel/debug/usb/devices
root@OpenWrt:~# uqmi -d /dev/cdc-wdm0 --get-data-status
root@OpenWrt:~# uqmi -d /dev/cdc-wdm0 --get-signal-info
root@OpenWrt:~# uqmi -d /dev/cdc-wdm0 --start-network Internet --autoconnect
root@OpenWrt:~# uqmi -d /dev/cdc-wdm0 --get-data-status&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5 id=&quot;network-configuration&quot;&gt;Network configuration&lt;/h5&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;add new Interface to /etc/config/network
config interface &lt;span class=&quot;s1&quot;&gt;&amp;#39;wwan&amp;#39;&lt;/span&gt;
option ifname &lt;span class=&quot;s1&quot;&gt;&amp;#39;wwan0&amp;#39;&lt;/span&gt;
option proto &lt;span class=&quot;s1&quot;&gt;&amp;#39;dhcp&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5 id=&quot;firewall-configuration&quot;&gt;Firewall configuration&lt;/h5&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;go to Network → Firewall, scroll down to wan and click the Edit button
add a checkmark to the wwan box under Covered networks heading, click Save &lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt; Apply&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


  &lt;p&gt;&lt;a href=&quot;https://jivoi.github.io/2015/06/26/huawei-e392-with-linux/&quot;&gt;4G Huawei E392 with Linux&lt;/a&gt; was originally published by EK at &lt;a href=&quot;https://jivoi.github.io&quot;&gt;EK&lt;/a&gt; on June 26, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[OSCP Prepare]]></title>
  <link rel="alternate" type="text/html" href="https://jivoi.github.io/2015/06/19/oscp-prepare/" />
  <id>https://jivoi.github.io/2015/06/19/oscp-prepare</id>
  <updated>2015-06-19 13:10:32 +0300T00:00:00-00:00</updated>
  <published>2015-06-19T00:00:00+03:00</published>
  
  <author>
    <name>EK</name>
    <uri>https://jivoi.github.io</uri>
    <email>ekoz@protonmail.com</email>
  </author>
  <content type="html">&lt;p&gt;My current way for OSCP Certifications&lt;/p&gt;

&lt;h3 id=&quot;what-is-oscp&quot;&gt;What is OSCP?&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.offensive-security.com/information-security-certifications/oscp-offensive-security-certified-professional/&quot;&gt;What is OSCP&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.offensive-security.com/documentation/penetration-testing-with-backtrack.pdf&quot;&gt;Course Syllabus&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;oscp-reviews&quot;&gt;OSCP Reviews&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;http://www.securitysift.com/offsec-pwb-oscp/&lt;/li&gt;
  &lt;li&gt;http://www.mogozobo.com/?p=1831&lt;/li&gt;
  &lt;li&gt;https://www.thesubtlety.com/the-oscp-penetration-testing-with-kali-linux/&lt;/li&gt;
  &lt;li&gt;https://sathisharthars.wordpress.com/2015/01/28/oscp-offensive-security-certified-professional-handy-tips-and-tricks/&lt;/li&gt;
  &lt;li&gt;http://stevendcampbell.blogspot.ru/2015/05/preparing-for-offensive-securitys-pwk.html&lt;/li&gt;
  &lt;li&gt;http://hackingandsecurity.blogspot.ru/2015/04/blog-post.html&lt;/li&gt;
  &lt;li&gt;http://blog.nullmode.com/blog/2013/05/11/penetration-testing-with-backtrack-oscp/&lt;/li&gt;
  &lt;li&gt;https://n3ko1.github.io/certification/2015/05/27/oscp—offensive-security-certified-professional/&lt;/li&gt;
  &lt;li&gt;https://tehaurum.wordpress.com/2015/03/18/penetration-testing-with-kali-linux-and-the-oscp/&lt;/li&gt;
  &lt;li&gt;http://fourfourfourfour.co/2014/04/20/oscp-review/&lt;/li&gt;
  &lt;li&gt;http://netsec.ws/?p=398&lt;/li&gt;
  &lt;li&gt;http://www.jasonbernier.com/oscp-review/&lt;/li&gt;
  &lt;li&gt;http://www.popped.io/2015/04/pwk-course-and-oscp-exam-review.html&lt;/li&gt;
  &lt;li&gt;https://leonjza.github.io/blog/2014/11/22/trying-harder-oscp-and-me/&lt;/li&gt;
  &lt;li&gt;http://www.primalsecurity.net/0x2-course-review-penetration-testing-with-kali-linux-oscp/&lt;/li&gt;
  &lt;li&gt;https://www.rcesecurity.com/2013/05/oscp-course-and-exam-review/&lt;/li&gt;
  &lt;li&gt;http://buffered.io/posts/oscp-and-me/&lt;/li&gt;
  &lt;li&gt;http://www.en-lightn.com/?p=941&lt;/li&gt;
  &lt;li&gt;http://overflowsecurity.com/oscp-review-eagle11/&lt;/li&gt;
  &lt;li&gt;http://www.lo0.ro/2014/05/23/my-oscp-certification-review/&lt;/li&gt;
  &lt;li&gt;http://proactivedefender.blogspot.ru/2012/01/oscp-my-review.html&lt;/li&gt;
  &lt;li&gt;http://0xdeadcode.se/archives/165&lt;/li&gt;
  &lt;li&gt;http://www.exclarus.com/pentesting-with-kali-course-review-oscp/&lt;/li&gt;
  &lt;li&gt;http://blog.l3g3ndary.org/2014/08/05/oscp-my-chronicle/&lt;/li&gt;
  &lt;li&gt;http://blog.pauldrapeau.com/oscp/&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;read&quot;&gt;2 Read&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;https://github.com/pwnwiki/pwnwiki.github.io&lt;/li&gt;
  &lt;li&gt;http://netsec.ws/?p=262&lt;/li&gt;
  &lt;li&gt;http://proactivedefender.blogspot.ru/2013/05/understanding-buffer-overflows.html&lt;/li&gt;
  &lt;li&gt;https://tehaurum.wordpress.com/2015/06/22/exploit-development-stack-buffer-overflow/&lt;/li&gt;
  &lt;li&gt;http://resources.infosecinstitute.com/author/nikhil-kumar/&lt;/li&gt;
  &lt;li&gt;https://www.offensive-security.com/metasploit-unleashed&lt;/li&gt;
  &lt;li&gt;http://n01g3l.tumblr.com/post/49036035399/linux-crossfire-v1-90-buffer-overflow&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;books&quot;&gt;Books&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Web Penetration Testing with Kali Linux&lt;/li&gt;
  &lt;li&gt;Penetration Testing: A Hands-On Introduction to Hacking&lt;/li&gt;
  &lt;li&gt;Mastering Kali Linux for Advanced Penetration Testing&lt;/li&gt;
  &lt;li&gt;Building Virtual Pentesting Labs for Advanced Penetration Testing&lt;/li&gt;
  &lt;li&gt;Penetration Testing with the Bash shell&lt;/li&gt;
  &lt;li&gt;Lee Allen - Advanced Penetration Testing for Highly-Secured Environments, The Ultimate Security Guide&lt;/li&gt;
  &lt;li&gt;Metasploit. The Penetration Tester-s Guide.&lt;/li&gt;
  &lt;li&gt;Himanshu Kumar - Learning Nessus for Penetration Testing&lt;/li&gt;
  &lt;li&gt;Rtfm: Red Team Field Manual&lt;/li&gt;
  &lt;li&gt;Brian Ward - How Linux Works - What Every Superuser Should Know&lt;/li&gt;
  &lt;li&gt;Gray Hat Hacking the Ethical Hacker’s Handbook&lt;/li&gt;
  &lt;li&gt;Black Hat Python Python Programming for Hackers and Pentesters&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;watch&quot;&gt;2 Watch&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Баранцев - Тестирование защищенности веб-приложений&lt;/li&gt;
  &lt;li&gt;Advanced Penetration Testing&lt;/li&gt;
  &lt;li&gt;Packtpub - Kali Linux Web App Testing&lt;/li&gt;
  &lt;li&gt;Pentestit.ru video&lt;/li&gt;
  &lt;li&gt;Udemy - Certified Metasploit Framework Professional&lt;/li&gt;
&lt;/ul&gt;

  &lt;p&gt;&lt;a href=&quot;https://jivoi.github.io/2015/06/19/oscp-prepare/&quot;&gt;OSCP Prepare&lt;/a&gt; was originally published by EK at &lt;a href=&quot;https://jivoi.github.io&quot;&gt;EK&lt;/a&gt; on June 19, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Kali Linux Compatible USB Wifi Adapters]]></title>
  <link rel="alternate" type="text/html" href="https://jivoi.github.io/2015/06/16/kali-linux-compatible-usb-wifi-adapters/" />
  <id>https://jivoi.github.io/2015/06/16/kali-linux-compatible-usb-wifi-adapters</id>
  <updated>2015-06-16 18:25:18 +0300T00:00:00-00:00</updated>
  <published>2015-06-16T00:00:00+03:00</published>
  
  <author>
    <name>EK</name>
    <uri>https://jivoi.github.io</uri>
    <email>ekoz@protonmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Below are the most stable usb wifi adapters:&lt;/p&gt;

&lt;h3 id=&quot;atheros-ar9271-chipset--ieee-80211bgn&quot;&gt;Atheros AR9271 Chipset – IEEE 802.11B/G/N&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;Alfa AWUS036NHA&lt;/li&gt;
  &lt;li&gt;TP-LINK TP-WN722N or TP-WN722NC&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;ralink-rt3070-chipset--ieee-80211bgn&quot;&gt;Ralink RT3070 Chipset – IEEE 802.11B/G/N&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;Alfa AWUS036NH&lt;/li&gt;
  &lt;li&gt;Alfa AWUS036NEH&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;realtek-rtl8187l-chipset--ieee-80211bg&quot;&gt;Realtek RTL8187L Chipset – IEEE 802.11B/G&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;Alfa AWUS036H&lt;/li&gt;
  &lt;li&gt;Alfa AWUS036EW&lt;/li&gt;
&lt;/ol&gt;

  &lt;p&gt;&lt;a href=&quot;https://jivoi.github.io/2015/06/16/kali-linux-compatible-usb-wifi-adapters/&quot;&gt;Kali Linux Compatible USB Wifi Adapters&lt;/a&gt; was originally published by EK at &lt;a href=&quot;https://jivoi.github.io&quot;&gt;EK&lt;/a&gt; on June 16, 2015.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Linux-Unix-IT Tips and Tricks #1]]></title>
  <link rel="alternate" type="text/html" href="https://jivoi.github.io/2014/06/22/linux-unix-it-tips-and-tricks-number-1/" />
  <id>https://jivoi.github.io/2014/06/22/linux-unix-it-tips-and-tricks-number-1</id>
  <updated>2014-06-22 14:54:48 +0400T00:00:00-00:00</updated>
  <published>2014-06-22T00:00:00+04:00</published>
  
  <author>
    <name>EK</name>
    <uri>https://jivoi.github.io</uri>
    <email>ekoz@protonmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Different Linux / Unix / IT tips, notes, howto&lt;/p&gt;

&lt;section id=&quot;table-of-contents&quot; class=&quot;toc&quot;&gt;
&lt;header&gt;
&lt;h3&gt;Contents&lt;/h3&gt;
&lt;/header&gt;
&lt;div id=&quot;drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#phpinfo&quot; id=&quot;markdown-toc-phpinfo&quot;&gt;Phpinfo&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#apache-virtualhost&quot; id=&quot;markdown-toc-apache-virtualhost&quot;&gt;Apache VirtualHost&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#grant-all-access-to-mysql-db&quot; id=&quot;markdown-toc-grant-all-access-to-mysql-db&quot;&gt;Grant all access to MySQL DB&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#check-disk-with-dd&quot; id=&quot;markdown-toc-check-disk-with-dd&quot;&gt;Check disk with DD&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#manual-install-php-extensions&quot; id=&quot;markdown-toc-manual-install-php-extensions&quot;&gt;Manual install php extensions&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#create-mysql-db&quot; id=&quot;markdown-toc-create-mysql-db&quot;&gt;Create MySQL DB&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#update-user-grants-for-mysql-db&quot; id=&quot;markdown-toc-update-user-grants-for-mysql-db&quot;&gt;Update user grants for MySQL DB&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#skip-mysql-db-replication-error&quot; id=&quot;markdown-toc-skip-mysql-db-replication-error&quot;&gt;Skip MySQL DB Replication error&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#simple-mysql-db-backuprestore-commands&quot; id=&quot;markdown-toc-simple-mysql-db-backuprestore-commands&quot;&gt;Simple MySQL DB backup\restore commands&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#run-crontab-task-with-lockf-or-lockfile&quot; id=&quot;markdown-toc-run-crontab-task-with-lockf-or-lockfile&quot;&gt;Run crontab task with lockf or lockfile&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#run-crontab-everyday-except-saturday&quot; id=&quot;markdown-toc-run-crontab-everyday-except-saturday&quot;&gt;Run crontab everyday except Saturday&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#create-rsync-share&quot; id=&quot;markdown-toc-create-rsync-share&quot;&gt;Create rsync share&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#count-tmp-used-disk-space&quot; id=&quot;markdown-toc-count-tmp-used-disk-space&quot;&gt;Count /tmp used disk space&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#clean-yum-pkg-cache&quot; id=&quot;markdown-toc-clean-yum-pkg-cache&quot;&gt;Clean Yum pkg cache&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#mysql-master-slave-replication&quot; id=&quot;markdown-toc-mysql-master-slave-replication&quot;&gt;MySQL Master-Slave replication&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#change-mysql-root-password&quot; id=&quot;markdown-toc-change-mysql-root-password&quot;&gt;Change MySQL root password&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#megarc-raid-cmd&quot; id=&quot;markdown-toc-megarc-raid-cmd&quot;&gt;Megarc raid cmd&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#megacli-raid-cmd&quot; id=&quot;markdown-toc-megacli-raid-cmd&quot;&gt;Megacli raid cmd&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ssh-tunnel&quot; id=&quot;markdown-toc-ssh-tunnel&quot;&gt;SSH tunnel&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ram-disk-freebsd&quot; id=&quot;markdown-toc-ram-disk-freebsd&quot;&gt;Ram disk FreeBSD&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#add-firewall-rules-linux-or-freebsd&quot; id=&quot;markdown-toc-add-firewall-rules-linux-or-freebsd&quot;&gt;Add firewall rules Linux or FreeBSD&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#add-6g-swap-to-freebsd&quot; id=&quot;markdown-toc-add-6g-swap-to-freebsd&quot;&gt;Add 6G swap to FreeBSD&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#clone-disk-with-dd&quot; id=&quot;markdown-toc-clone-disk-with-dd&quot;&gt;Clone disk with dd&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#access-to-svn-server-with-ssh-key&quot; id=&quot;markdown-toc-access-to-svn-server-with-ssh-key&quot;&gt;Access to svn server with ssh-key&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#create-iso-image-with-dd&quot; id=&quot;markdown-toc-create-iso-image-with-dd&quot;&gt;Create iso image with dd&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#create-swap-in-linux&quot; id=&quot;markdown-toc-create-swap-in-linux&quot;&gt;Create swap in Linux&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#split-big-file-in-small-parts&quot; id=&quot;markdown-toc-split-big-file-in-small-parts&quot;&gt;Split big file in small parts&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#show-postresql-status&quot; id=&quot;markdown-toc-show-postresql-status&quot;&gt;Show PostreSQL status&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#soft-raid-freebsd&quot; id=&quot;markdown-toc-soft-raid-freebsd&quot;&gt;Soft Raid FreeBSD&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#test-channel-speed&quot; id=&quot;markdown-toc-test-channel-speed&quot;&gt;Test channel speed&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#patch-apply&quot; id=&quot;markdown-toc-patch-apply&quot;&gt;Patch apply&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#revoke-all-grant-and-remove-mysql-user&quot; id=&quot;markdown-toc-revoke-all-grant-and-remove-mysql-user&quot;&gt;Revoke all grant and remove MySQL user&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#cron-task-start-at-reboot&quot; id=&quot;markdown-toc-cron-task-start-at-reboot&quot;&gt;Cron task start at reboot&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#simple-rsyncdconf&quot; id=&quot;markdown-toc-simple-rsyncdconf&quot;&gt;Simple rsyncd.conf&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#open-files-limit&quot; id=&quot;markdown-toc-open-files-limit&quot;&gt;Open files limit&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#use-curl-to-check-web-site-answer-time&quot; id=&quot;markdown-toc-use-curl-to-check-web-site-answer-time&quot;&gt;Use curl to check web site answer time&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#run-vncserver-at-port-5999&quot; id=&quot;markdown-toc-run-vncserver-at-port-5999&quot;&gt;Run vncserver at port 5999&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#create-200-host-records-in-etchosts&quot; id=&quot;markdown-toc-create-200-host-records-in-etchosts&quot;&gt;Create 200 host records in /etc/hosts&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;
&lt;/section&gt;
&lt;!-- /#table-of-contents --&gt;

&lt;h3 id=&quot;phpinfo&quot;&gt;Phpinfo&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;lt;?php phpinfo(); ?&amp;gt;&amp;quot;&lt;/span&gt; &amp;gt; file
root@linux: ~ &lt;span class=&quot;c&quot;&gt;# php -i&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;apache-virtualhost&quot;&gt;Apache VirtualHost&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&amp;lt;Directory ~ &lt;span class=&quot;s2&quot;&gt;&amp;quot;.*\.svn&amp;quot;&lt;/span&gt;&amp;gt;
    Order allow,deny
    Deny from all
    Satisfy All
&amp;lt;/Directory&amp;gt;

&amp;lt;VirtualHost 127.0.0.1:80&amp;gt;
    ServerName vhost1
    ErrorLog /logs/vhost1/error_log
    DocumentRoot /www/vhost1/htdocs
    &amp;lt;Directory /www/vhost1/htdocs&amp;gt;
		AllowOverride All
    &amp;lt;/Directory&amp;gt;
&amp;lt;/VirtualHost&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;grant-all-access-to-mysql-db&quot;&gt;Grant all access to MySQL DB&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;grant all privileges on user.* to user@&lt;span class=&quot;s2&quot;&gt;&amp;quot;%&amp;quot;&lt;/span&gt; identified by &lt;span class=&quot;s2&quot;&gt;&amp;quot;P@ssw0rd&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;check-disk-with-dd&quot;&gt;Check disk with DD&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;dd &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/da0 &lt;span class=&quot;nv&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/null bs8
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; progress Ctrl+T to send USR1 or &lt;span class=&quot;nb&quot;&gt;kill&lt;/span&gt; -USR1 DDPID&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;manual-install-php-extensions&quot;&gt;Manual install php extensions&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PHP_PREFIX&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;/bin/pecl uninstall memcache
&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PHP_PREFIX&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;/bin/pecl install memcache

add to php.ini
&lt;span class=&quot;nv&quot;&gt;extension&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;memcache

Build extension from &lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt;
wget memcache-2.2.5.tgz
/usr/local/php/bin/phpize
./configure --with-php-config&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/local/php/bin/php-config&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;create-mysql-db&quot;&gt;Create MySQL DB&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;CREATE DATABASE TEST default charset utf8&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
grant all on testuser.*  to &lt;span class=&quot;s1&quot;&gt;&amp;#39;testuser&amp;#39;&lt;/span&gt;@&lt;span class=&quot;s1&quot;&gt;&amp;#39;SOMEIP&amp;#39;&lt;/span&gt; identified by &lt;span class=&quot;s1&quot;&gt;&amp;#39;P@ssw0rd&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;update-user-grants-for-mysql-db&quot;&gt;Update user grants for MySQL DB&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;update user &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;PASSWORD&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;P@ssw0rd&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; where &lt;span class=&quot;nv&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;testuser&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
show grants &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;testuser&amp;#39;&lt;/span&gt;@&lt;span class=&quot;s1&quot;&gt;&amp;#39;SOMEIP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
revoke all on TEST.*  from &lt;span class=&quot;s1&quot;&gt;&amp;#39;testuser&amp;#39;&lt;/span&gt;@&lt;span class=&quot;s1&quot;&gt;&amp;#39;SOMEIP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;skip-mysql-db-replication-error&quot;&gt;Skip MySQL DB Replication error&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;show slave status&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
SET GLOBAL &lt;span class=&quot;nv&quot;&gt;SQL_SLAVE_SKIP_COUNTER&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; N&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;simple-mysql-db-backuprestore-commands&quot;&gt;Simple MySQL DB backup\restore commands&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;Backup all db server
mysqldump --master-data&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; --opt --single-transaction --all-databases &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; gzip -9 -c &amp;gt; /www/backup/&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;hostname&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;.&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;date +%Y%m%d&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;.sql.gz

Backup only tables
mysqldump &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt; --tables tag_table &amp;gt; /backup/test.tag_table.sql
mysqldump -u USER -pPASSWORD DATABASE TABLE1 TABLE2 TABLE3 &amp;gt; /path/to/file/dump_table.sql

Backup one database
mysqldump -u USER -pPASSWORD DATABASE &amp;gt; /path/to/file/dump.sql
mysqldump -u USER -pPASSWORD DATABASE &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; gzip &amp;gt; /path/to/outputfile.sql.gz
mysqldump -u USER -pPASSWORD DATABASE &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; gzip &amp;gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;date +/path/to/outputfile.sql.%Y%m%d.%H%M%S.gz&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; 

Backup database scheme
mysqldump --no-data - u USER -pPASSWORD DATABASE &amp;gt; /path/to/file/schema.sql

Restore database
mysql -u USER -pPASSWORD DATABASE &amp;lt; /path/to/dump.sql
gunzip &amp;lt; /path/to/outputfile.sql.gz &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; mysql -u USER -pPASSWORD DATABASE
zcat /path/to/outputfile.sql.gz &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; mysql -u USER -pPASSWORD DATABASE&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;run-crontab-task-with-lockf-or-lockfile&quot;&gt;Run crontab task with lockf or lockfile&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;*/5 * * * * userlogin /usr/bin/lockf -st &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; /tmp/5min.lock  sh cron1.sh
*/5 * * * * userlogin lockfile -s0 -r0 /tmp/5min.lock &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;sh cron1.sh &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; rm -f /tmp/5min.lock&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;run-crontab-everyday-except-saturday&quot;&gt;Run crontab everyday except Saturday&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; * * * 0,1,2,3,4,6 userlogin sh cron1.sh&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;create-rsync-share&quot;&gt;Create rsync share&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;/etc/rsyncd.conf
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;www&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; /www
&lt;span class=&quot;nv&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; yes
&lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;only&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; yes
hosts &lt;span class=&quot;nv&quot;&gt;allow&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 10.0.0.0/8
dont &lt;span class=&quot;nv&quot;&gt;compress&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; *.*

rsync -avP server::www/ /www1/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;count-tmp-used-disk-space&quot;&gt;Count /tmp used disk space&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo du -hs /tmp/*&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;clean-yum-pkg-cache&quot;&gt;Clean Yum pkg cache&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;Pkg cache live here - /var/cache/yum/updates 
yum clean all&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;mysql-master-slave-replication&quot;&gt;MySQL Master-Slave replication&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;At master
grant REPLICATION SLAVE on *.*  to &lt;span class=&quot;s1&quot;&gt;&amp;#39;replication&amp;#39;&lt;/span&gt;@&lt;span class=&quot;s1&quot;&gt;&amp;#39;IP&amp;#39;&lt;/span&gt; identified by &lt;span class=&quot;s1&quot;&gt;&amp;#39;P@ssw0rd&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
show master status&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

At slave
slave stop&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
change master to &lt;span class=&quot;nv&quot;&gt;MASTER_HOST&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;master&amp;quot;&lt;/span&gt;, &lt;span class=&quot;nv&quot;&gt;MASTER_LOG_FILE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;mysql-bin.000013&amp;quot;&lt;/span&gt;, &lt;span class=&quot;nv&quot;&gt;MASTER_LOG_POS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;455758064&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
slave start&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
show slave status&lt;span class=&quot;se&quot;&gt;\G&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;change-mysql-root-password&quot;&gt;Change MySQL root password&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;use mysql&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;update user &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;password&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;P@ssw0rd&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; where &lt;span class=&quot;nv&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;root&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
flush privileges&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;megarc-raid-cmd&quot;&gt;Megarc raid cmd&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;megarc -dispCfg -a0
run rebuild
megarc -dorbld -a0 -rbldarray&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;0:1&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
http://www.freebsdwiki.net/index.php/Megarc&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;megacli-raid-cmd&quot;&gt;Megacli raid cmd&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;http://hwraid.le-vert.net/wiki/LSIMegaRAIDSAS
http://tools.rapidsoft.de/perc/perc-cheat-sheet.html
server:~# megacli -AdpGetProp RebuildRate -a0
Adapter 0: Rebuild &lt;span class=&quot;nv&quot;&gt;Rate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 30%
server:~# megacli -AdpSetProp RebuildRate &lt;span class=&quot;m&quot;&gt;60&lt;/span&gt; -a0
Adapter 0: Set rebuild rate to 60% success.
LINUX
server:~# cat /proc/sys/dev/raid/speed_limit_min
1000
server:~# cat /proc/sys/dev/raid/speed_limit_max
200000

Speed up limit to &lt;span class=&quot;m&quot;&gt;50&lt;/span&gt; mb&lt;span class=&quot;se&quot;&gt;\s&lt;/span&gt;
server:~# &lt;span class=&quot;nb&quot;&gt;echo &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50000&lt;/span&gt; &amp;gt; /proc/sys/dev/raid/speed_limit_min&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;ssh-tunnel&quot;&gt;SSH tunnel&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;Local Port Forwarding
ssh -L 3306:localhost:3306 username@hostname
telnet localhost 3306

Remote Port Forwarding
ssh -R 9000:localhost:8001 username@hostname
ssh -R 2222:localhost:22 username@hostname - SSH
ssh -R 2223:localhost:5902 username@hostname - VNC
autossh -M &lt;span class=&quot;m&quot;&gt;20000&lt;/span&gt; -f -R 2222:localhost:80 username@hostname
telnet someserver &lt;span class=&quot;m&quot;&gt;9000&lt;/span&gt; -&amp;gt; go to localhost:8001&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;ram-disk-freebsd&quot;&gt;Ram disk FreeBSD&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;/etc/rc.conf
&lt;span class=&quot;nv&quot;&gt;mdconfig_md0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;-t malloc -s 512m -u 0&amp;quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;mdconfig_md0_newfs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;-U&amp;quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;mdconfig_md0_owner&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;www&amp;quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;mdconfig_md0_perms&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;775&amp;quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;mdconfig_md0_cmd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;chown www:www /www/ramdisk&amp;quot;&lt;/span&gt;
mkdir -p /www/ramdisk
/etc/rc.d/mdconfig start
df -h&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;add-firewall-rules-linux-or-freebsd&quot;&gt;Add firewall rules Linux or FreeBSD&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;Linux
iptables -A INPUT -s 127.0.0.1 -p tcp --dport &lt;span class=&quot;m&quot;&gt;8080&lt;/span&gt; -j ACCEPT
service iptables save
iptables -nL &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; grep 8080

FreBSD
ipfw add pass tcp from 127.0.0.1 to me &lt;span class=&quot;m&quot;&gt;8080&lt;/span&gt; setup 
sh /usr/share/examples/ipfw/change_rules.sh
ipfw list &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; grep 8080&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;add-6g-swap-to-freebsd&quot;&gt;Add 6G swap to FreeBSD&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;dd &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/zero &lt;span class=&quot;nv&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/www/swap0 &lt;span class=&quot;nv&quot;&gt;bs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1M &lt;span class=&quot;nv&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;6144
chmod &lt;span class=&quot;m&quot;&gt;0600&lt;/span&gt; /www/swap0
/etc/rc.conf
&lt;span class=&quot;nv&quot;&gt;swapfile&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;/www/swap0&amp;quot;&lt;/span&gt;
mdconfig -a -t vnode -f /www/swap0 -u &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; swapon /dev/md0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;clone-disk-with-dd&quot;&gt;Clone disk with dd&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;dd &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/old_disk &lt;span class=&quot;nv&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/new_disk &lt;span class=&quot;nv&quot;&gt;conv&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;noerror,sync&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;access-to-svn-server-with-ssh-key&quot;&gt;Access to svn server with ssh-key&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;useradd svnuser
ssh-keygen -t rsa 
mv ~/.ssh/id_rsa.pub ~/.ssh/authorized_keys
add to ~/.ssh/authorized_keys
no-pty,no-port-forwarding,no-X11-forwarding,no-agent-forwarding,command&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;/usr/bin/svnserve -t -r /www/svn&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;create-iso-image-with-dd&quot;&gt;Create iso image with dd&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo dd &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/scd0 &lt;span class=&quot;nv&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tmp/isoimage.iso
sudo mount -t udf,iso9660  -o loop /tmp/isoimage.iso /mnt/cdrom/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;create-swap-in-linux&quot;&gt;Create swap in Linux&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;fdisk /dev/sda
mkswap -L &lt;span class=&quot;s1&quot;&gt;&amp;#39;swap&amp;#39;&lt;/span&gt; /dev/sda6
swapon -a&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;split-big-file-in-small-parts&quot;&gt;Split big file in small parts&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;split -b1m large.mp3 large.mp3.
collect back
cat large.mp3.* &amp;gt; large.mp3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;show-postresql-status&quot;&gt;Show PostreSQL status&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; * from pg_stat_activity&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;soft-raid-freebsd&quot;&gt;Soft Raid FreeBSD&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;geom_mirror_load=&amp;quot;YES&amp;quot;&amp;#39;&lt;/span&gt; &amp;gt;&amp;gt; /boot/loader.conf
sysctl kern.geom.debugflags&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;16
gmirror label -v -b round-robin -s &lt;span class=&quot;m&quot;&gt;131072&lt;/span&gt; gm0 /dev/mfid0
change /etc/fstab /dev/mfid0s2a to /dev/mirror/gm0s1a
reboot
gmirror list
gmirror status
gmirror insert gm0 /dev/mfid1
gmirror configure -b round-robin -s &lt;span class=&quot;m&quot;&gt;131072&lt;/span&gt; gm*
gmirror remove gm0 /dev/mfid1
gmirror foreget -v gm0
gmirror rebuild -v gm1 /dev/fmid3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;test-channel-speed&quot;&gt;Test channel speed&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;at server:
iperf -s
at client:
iperf -V -c SERVERIP -t 6000&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;patch-apply&quot;&gt;Patch apply&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;patch --dry-run -p1 &amp;lt; patchfile.patch
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; all ok
patch -p1 &amp;lt; patchfile.patch&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;revoke-all-grant-and-remove-mysql-user&quot;&gt;Revoke all grant and remove MySQL user&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;REVOKE ALL PRIVILEGES on &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;DBNAME&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;.* from &lt;span class=&quot;s1&quot;&gt;&amp;#39;USERNAME&amp;#39;&lt;/span&gt;@&lt;span class=&quot;s1&quot;&gt;&amp;#39;IP&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
drop user &lt;span class=&quot;s1&quot;&gt;&amp;#39;USERNAME&amp;#39;&lt;/span&gt;@&lt;span class=&quot;s1&quot;&gt;&amp;#39;IP&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; * from mysql.user&lt;span class=&quot;se&quot;&gt;\G&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; * from mysql.user where &lt;span class=&quot;nv&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;USERNAME&amp;#39;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\G&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;cron-task-start-at-reboot&quot;&gt;Cron task start at reboot&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;/etc/crontab
@reboot         username /usr/bin/bash  /etc/startAtReboot.sh&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;simple-rsyncdconf&quot;&gt;Simple rsyncd.conf&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;/etc/rsyncd.conf
pid &lt;span class=&quot;nv&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; /var/run/rsyncd.pid
use &lt;span class=&quot;nv&quot;&gt;chroot&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; yes
&lt;span class=&quot;nv&quot;&gt;uid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; nobody
&lt;span class=&quot;nv&quot;&gt;gid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; nobody
hosts &lt;span class=&quot;nv&quot;&gt;allow&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 192.168.56.0/24
hosts &lt;span class=&quot;nv&quot;&gt;deny&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; *
pid &lt;span class=&quot;nv&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; /var/run/rsyncd.pid
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/test
&lt;span class=&quot;nv&quot;&gt;comment&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;only&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; yes
hosts &lt;span class=&quot;nv&quot;&gt;allow&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 10.0.0.1
hosts &lt;span class=&quot;nv&quot;&gt;deny&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; *

To start
rsync --daemon&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;open-files-limit&quot;&gt;Open files limit&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;http://ss64.com/bash/limits.conf.html
/etc/security/limits.conf
*               hard    nofile          65535
*               soft    nofile          65535
username        hard    nofile          65536&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;use-curl-to-check-web-site-answer-time&quot;&gt;Use curl to check web site answer time&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;curl -w &lt;span class=&quot;s1&quot;&gt;&amp;#39;\nLookup time:\t%{time_namelookup}\nConnect time:\t%{time_connect}\nPreXfer time:\t%{time_pretransfer}\nStartXfer time:\t%{time_starttransfer}\n\nTotal time:\t%{time_total}\n&amp;#39;&lt;/span&gt; -o /dev/null -s http://linux.com/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;run-vncserver-at-port-5999&quot;&gt;Run vncserver at port 5999&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;vncserver -geometry 1024x768 -depth &lt;span class=&quot;m&quot;&gt;24&lt;/span&gt; :99&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;create-200-host-records-in-etchosts&quot;&gt;Create 200 host records in /etc/hosts&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;192.168.99.1-200 n001-n200
&lt;span class=&quot;nv&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; i in &lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;seq -w 200&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;192.168.99.$P n$i&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;expr &lt;span class=&quot;nv&quot;&gt;$P&lt;/span&gt; + 1&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt; &amp;gt;&amp;gt;/etc/hosts&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


  &lt;p&gt;&lt;a href=&quot;https://jivoi.github.io/2014/06/22/linux-unix-it-tips-and-tricks-number-1/&quot;&gt;Linux-Unix-IT Tips and Tricks #1&lt;/a&gt; was originally published by EK at &lt;a href=&quot;https://jivoi.github.io&quot;&gt;EK&lt;/a&gt; on June 22, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Ответы с олимпиады для системных администраторов от Yandex]]></title>
  <link rel="alternate" type="text/html" href="https://jivoi.github.io/2014/06/18/otviety-s-olimpiady-dlia-sistiemnykh-administratorov-ot-yandex/" />
  <id>https://jivoi.github.io/2014/06/18/otviety-s-olimpiady-dlia-sistiemnykh-administratorov-ot-yandex</id>
  <updated>2014-06-18 17:39:24 +0400T00:00:00-00:00</updated>
  <published>2014-06-18T00:00:00+04:00</published>
  
  <author>
    <name>EK</name>
    <uri>https://jivoi.github.io</uri>
    <email>ekoz@protonmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Ответы с олимпиады для системных администраторов от Yandex.
Много интересных вопросов.&lt;/p&gt;

&lt;h2 id=&quot;section&quot;&gt;Ответы на вопросы первой игры первого тура:&lt;/h2&gt;

&lt;h4 id=&quot;section-1&quot;&gt;Вопрос 1.&lt;/h4&gt;
&lt;p&gt;С помощью каких комбинаций клавиш в текстовых редакторах vi или vim скопировать в буфер 4 строки, начиная со строки, где находится курсор?&lt;/p&gt;

&lt;h4 id=&quot;section-2&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Способов много,  навскидку можно ответить, что это можно сделать с помощью:  4yy, либо y4y, либо 4ddkp, либо v курсор y, либо 4+Shift+y&lt;/p&gt;

&lt;h4 id=&quot;section-3&quot;&gt;Вопрос  2.&lt;/h4&gt;
&lt;p&gt;Вы в bash запустили команду echo $[5/2]. Какой будет результат?&lt;/p&gt;

&lt;h4 id=&quot;section-4&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;ну тут все просто, ответ  2&lt;/p&gt;

&lt;h4 id=&quot;section-5&quot;&gt;Вопрос 3.&lt;/h4&gt;
&lt;p&gt;В bash вы хотите сравнить два числа.  Какой оператор сравнения нужно применить, если нужно узнать,  что первое значение больше или равно второму?&lt;/p&gt;

&lt;h4 id=&quot;section-6&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Обычно применяют  -ge&lt;/p&gt;

&lt;h4 id=&quot;section-7&quot;&gt;Вопрос 4.&lt;/h4&gt;
&lt;p&gt;Вам нужно запустить web-сервер Apache на порту 3128. С помощью  какой директивы в конфигурационном файле это можно сделать?&lt;/p&gt;

&lt;h4 id=&quot;section-8&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Listen  или Port&lt;/p&gt;

&lt;h4 id=&quot;section-9&quot;&gt;Вопрос 5.&lt;/h4&gt;
&lt;p&gt;Как в Linux узнать текущий рабочий каталог процесса с pid = 4556?&lt;/p&gt;

&lt;h4 id=&quot;section-10&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Его можно найти в файлике /proc/4556/cwd&lt;/p&gt;

&lt;h4 id=&quot;section-11&quot;&gt;Вопрос 6.&lt;/h4&gt;
&lt;p&gt;Как в Unix посмотреть какие файлы или устройства  использует процесс с pid = 85003?&lt;br /&gt;
Вообще этот вопрос вызвал много споров.&lt;/p&gt;

&lt;h4 id=&quot;section-12&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Мы принимали следующие ответы:
Для Linux: никак или в ответе должно было быть упоминание, что это можно сделать с помощью дополнительной настройки ядра, например, sysctl -w kernel.pid_max = (число &amp;gt; 85003). По умолчанию значение переменной kernel.pid_max = 32768;
Для FreeBSD: fstat -p 85003 или установить lsof, а потом посмотреть с помощью lsof -p 85003. Утилиты lsof и procfs по умолчанию не установлены;
Для Solaris мы принимали ответ, что можно сделать с помощью утилиты pfiles.&lt;/p&gt;

&lt;h4 id=&quot;section-13&quot;&gt;Вопрос 7.&lt;/h4&gt;
&lt;p&gt;Какие из перечисленных типов хранилищ в MySQL  поддерживают транзакционность:  MyISAM, Memory, InnoDB, Archive, NDB, CSV?&lt;/p&gt;

&lt;h4 id=&quot;section-14&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Ну тут, конечно, все вспомнили InnoDB, но и NDB тоже поддерживает транзакции.&lt;/p&gt;

&lt;h4 id=&quot;section-15&quot;&gt;Вопрос 8.&lt;/h4&gt;
&lt;p&gt;Как в PostgreSQL очистить файлы баз данных от уже удалённых записей?&lt;/p&gt;

&lt;h4 id=&quot;section-16&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Вот уже много лет,  любимой командой администраторов PostgreSQL  является VACUUM FULL.&lt;/p&gt;

&lt;h4 id=&quot;section-17&quot;&gt;Вопрос 9.&lt;/h4&gt;
&lt;p&gt;Как очистить лог-файл /var/log/log, открытый  работающим процессом?&lt;/p&gt;

&lt;h4 id=&quot;section-18&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Тут как и в пером вопросе тоже сразу можно привести массу вариантов:  $echo –n &amp;gt; /var/log/log  или $ &amp;gt; /var/log/log или $ cat /dev/null &amp;gt; /var/log/log .&lt;/p&gt;

&lt;h4 id=&quot;section-19&quot;&gt;Вопрос 10.&lt;/h4&gt;
&lt;p&gt;Вы зашли на сервер с Linux с помощью ssh. Как перегрузить этот сервер по sysrq-b?&lt;/p&gt;

&lt;h4 id=&quot;section-20&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;вот такой командой - $ echo b &amp;gt; /proc/sysrq-trigger&lt;/p&gt;

&lt;h4 id=&quot;section-21&quot;&gt;Вопрос 11.&lt;/h4&gt;
&lt;p&gt;Как подсчитать количество строк в текстовом файле file.txt?&lt;/p&gt;

&lt;h4 id=&quot;section-22&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Ну тут тоже самый привычный и распространенный сценарий у васех администраторов - $wc -l file.txt  .&lt;/p&gt;

&lt;h4 id=&quot;section-23&quot;&gt;Вопрос 12.&lt;/h4&gt;
&lt;p&gt;Как найти подстроку  в файле, сжатом с помощью gzip?&lt;/p&gt;

&lt;h4 id=&quot;section-24&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Тоже вот прям сходу пара вариантов:  $zgrep  stroka  file или $zcat  file | grep stroka&lt;/p&gt;

&lt;h4 id=&quot;section-25&quot;&gt;Вопрос 13.&lt;/h4&gt;
&lt;p&gt;Какой утилитой в Linux можно проверить состояние и включить/выключить кеширование на запись для SAS/SATA устройства (диска)?&lt;/p&gt;

&lt;h4 id=&quot;section-26&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;hdparm в случае SATA или  sdparm  в случае SAS/SATA.&lt;/p&gt;

&lt;h4 id=&quot;section-27&quot;&gt;Вопрос 14.&lt;/h4&gt;
&lt;p&gt;Как посмотреть версию и возможные параметры модуля e1000e для загруженного в настоящий момент ядра в Linux?&lt;/p&gt;

&lt;h4 id=&quot;section-28&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;modinfo e1000e&lt;/p&gt;

&lt;h4 id=&quot;section-29&quot;&gt;Вопрос 15.&lt;/h4&gt;
&lt;p&gt;Как в командной строке bash повторить команду, которую вы набирали ранее?&lt;/p&gt;

&lt;h4 id=&quot;section-30&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Тоже навскидку 3 варианта: Ctrl+r или !- или курсорные клавиши&lt;/p&gt;

&lt;h4 id=&quot;section-31&quot;&gt;Вопрос 16.&lt;/h4&gt;
&lt;p&gt;Какой командой в Linux можно разрешить dump corefile-ов в текущей сессии без ограничения по размеру?&lt;/p&gt;

&lt;h4 id=&quot;section-32&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;ulimit -c unlimited&lt;/p&gt;

&lt;h4 id=&quot;section-33&quot;&gt;Вопрос 17.&lt;/h4&gt;
&lt;p&gt;Как записать 100 пакетов на интерфейсе eth0 в файл mytrace.raw, не ограничивая длину захваченного (captured) пакета?&lt;/p&gt;

&lt;h4 id=&quot;section-34&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;tcpdump -i eth0 -c 100 -s 0 -w mytrace.raw&lt;/p&gt;

&lt;h4 id=&quot;section-35&quot;&gt;Вопрос 18.&lt;/h4&gt;
&lt;p&gt;Как изменить процент зарезервированного для root-а места на файловой системе ext3 до 2%, смонтированной в /filesystem в Linux?&lt;/p&gt;

&lt;h4 id=&quot;section-36&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;tune2fs -m2 /filesystem&lt;/p&gt;

&lt;h4 id=&quot;section-37&quot;&gt;Вопрос 19.&lt;/h4&gt;
&lt;p&gt;Как в Linux смонтировать файловую систему tmpfs размеров 2Гб в /tmpfs?&lt;/p&gt;

&lt;h4 id=&quot;section-38&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;mount none /tmpfs -t tmpfs -o size=2g&lt;/p&gt;

&lt;h4 id=&quot;section-39&quot;&gt;Вопрос 20.&lt;/h4&gt;
&lt;p&gt;Как посмотреть таблицы NAT в «файрволе» на сервере с Linux (ядро 2.6.X)?&lt;/p&gt;

&lt;h4 id=&quot;section-40&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;iptables -L -t nat&lt;/p&gt;

&lt;h4 id=&quot;section-41&quot;&gt;Вопрос 21.&lt;/h4&gt;
&lt;p&gt;Какой утилитой в Linux можно посмотреть, какие системные вызовы делает работающий процесс?&lt;/p&gt;

&lt;h4 id=&quot;section-42&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Любимой утилитой всех системных администраторов - strace&lt;/p&gt;

&lt;h4 id=&quot;section-43&quot;&gt;Вопрос 22.&lt;/h4&gt;
&lt;p&gt;Как посмотреть процессы пользователя vasya, отсортировав их по resident size в порядке убывания?&lt;/p&gt;

&lt;h4 id=&quot;section-44&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Вообще вариантов ответа очень много, но вот, например один из них: ps nu -U vasya –sort -rss&lt;/p&gt;

&lt;h4 id=&quot;section-45&quot;&gt;Вопрос 23.&lt;/h4&gt;
&lt;p&gt;Как смонтировать каталог /var/log/mydaemon в /mydaemon?&lt;/p&gt;

&lt;h4 id=&quot;section-46&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;mount /var/log/mydaemon /mydaemon -o bind&lt;/p&gt;

&lt;h4 id=&quot;section-47&quot;&gt;Вопрос 24.&lt;/h4&gt;
&lt;p&gt;Какое максимальное число адресов можно использовать в ipv4 сети /26?&lt;/p&gt;

&lt;h4 id=&quot;section-48&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Ответ 62, потому что 2 адреса из 64: Широковещательный адрес и Адрес сети – являются служебными.&lt;/p&gt;

&lt;h4 id=&quot;section-49&quot;&gt;Вопрос 25.&lt;/h4&gt;
&lt;p&gt;Как затереть нулями первые 64Мб диска /dev/sda?&lt;/p&gt;

&lt;h4 id=&quot;section-50&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;dd if=/dev/zero of=/dev/sda bs=64M count=1 или dd if=/dev/zero of=/dev/sda bs=1M count=64&lt;/p&gt;

&lt;h4 id=&quot;section-51&quot;&gt;Вопрос 26.&lt;/h4&gt;
&lt;p&gt;Какова последовательность пакетов tcp при установке соединения (укажите типы пакетов)?&lt;/p&gt;

&lt;h4 id=&quot;section-52&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;хост A посылает хосту B пакет с установленным битом SYN и 32-битным значением ISSa в поле Sequence Number
хост B отвечает хосту A пакетом с установленными битами SYN и ACK, 32-битным значением ISSb в поле Sequence Number, и значением (ISSa+1) в поле ACK
хост A отвечает хосту B пакетом с установленным битом ACK, значением (ISSa+1) в поле Sequence Number, и значением (ISSb+1) в поле ACK.&lt;/p&gt;

&lt;h4 id=&quot;section-53&quot;&gt;Вопрос 27.&lt;/h4&gt;
&lt;p&gt;Какой параметр ядра отвечает за максимальный размер памяти, доступный для выделения процессам в Linux?&lt;/p&gt;

&lt;h4 id=&quot;section-54&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;vm.overcommit_ratio&lt;/p&gt;

&lt;h4 id=&quot;section-55&quot;&gt;Вопрос 28.&lt;/h4&gt;
&lt;p&gt;Как в Linux сделать так, чтобы core-файлы сохранялись c именем /var/tmp/core.{pid}?&lt;/p&gt;

&lt;h4 id=&quot;section-56&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;sysctl -w kernel.core_pattern=”/var/tmp/core.%p”&lt;/p&gt;

&lt;h4 id=&quot;section-57&quot;&gt;Вопрос 29.&lt;/h4&gt;
&lt;p&gt;Как одной командой «сбросить» все переменные окружения (сделать «пустое» окружение) в текущей сессии в Linux?&lt;/p&gt;

&lt;h4 id=&quot;section-58&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;env -i&lt;/p&gt;

&lt;h4 id=&quot;section-59&quot;&gt;Вопрос 30.&lt;/h4&gt;
&lt;p&gt;Как включить jumbo-frames на сетевом интерфейсе eth0?&lt;/p&gt;

&lt;h4 id=&quot;section-60&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;ifconfig eth0 mtu 9000&lt;/p&gt;

&lt;h2 id=&quot;section-61&quot;&gt;Ответы на вопросы второй игры первого тура:&lt;/h2&gt;

&lt;h4 id=&quot;section-62&quot;&gt;Вопрос 1.&lt;/h4&gt;
&lt;p&gt;Напишите чему будет равен mss, если Вы используете IPv6 и mtu=1450?&lt;/p&gt;

&lt;h4 id=&quot;section-63&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;1390, при использовании TCP поверх IPv6, MSS должно быть вычислено как максимальная длина пакета минус 60 октетов, так как минимальная длина заголовка IPv6 (т.e., IPv6 заголовок без заголовков расширения) на 20 октетов больше, чем для IPv4.&lt;/p&gt;

&lt;h4 id=&quot;section-64&quot;&gt;Вопрос 2.&lt;/h4&gt;
&lt;p&gt;Что в bash напечатает команда echo $((5/2))?&lt;/p&gt;

&lt;h4 id=&quot;section-65&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Как ни странно, но ответ такой же, как и в первой игре – 2&lt;/p&gt;

&lt;h4 id=&quot;section-66&quot;&gt;Вопрос 3.&lt;/h4&gt;
&lt;p&gt;Приведите пример команды, которая напечатает ‘Y’ , если файл/var/tmp/core существует и он ненулевого размера (используя средства bash и coreutils)?&lt;/p&gt;

&lt;h4 id=&quot;section-67&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Например, можно сделать это  вот таким способом  $test -s /var/tmp/core &amp;amp;&amp;amp; echo ‘Y’ или вот таким $ [ -s /var/tmp/core ] &amp;amp;&amp;amp; echo ‘Y’&lt;/p&gt;

&lt;h4 id=&quot;section-68&quot;&gt;Вопрос 4.&lt;/h4&gt;
&lt;p&gt;С помощью какой директивы в Apache 1.3 можно указать e-mail для связи на стандартной страничке Internal Server Error?&lt;/p&gt;

&lt;h4 id=&quot;section-69&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;ServerAdmin&lt;/p&gt;

&lt;h4 id=&quot;section-70&quot;&gt;Вопрос 5.&lt;/h4&gt;
&lt;p&gt;Как в Linux вывести все переменные окружения, с которыми работает процесс с pid = 5671, в виде списка, где каждая переменная на отдельной строке?&lt;/p&gt;

&lt;h4 id=&quot;section-71&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;На этот  вопрос в шаблоне для проверки забито очень много разных вариантов,  вот парочка из них:  $/proc/5671/environ | strings или $sudo cat /proc/2236/environ | sed ‘s/\x00/\n/g’&lt;/p&gt;

&lt;h4 id=&quot;section-72&quot;&gt;Вопрос 6.&lt;/h4&gt;
&lt;p&gt;Как в Linux или FreeBSD открыть tcp порт 74022 в режиме Listen при помощи утилиты пакета netcat?&lt;/p&gt;

&lt;h4 id=&quot;section-73&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;никак нельзя посмотреть, так как такого порта не может быть.  В протоколе TCP поле “Порт назначения” (DESTINATION PORT) занимает 2 байта, поэтому номер порта не может превышать два в шестнадцатой степени.&lt;/p&gt;

&lt;h4 id=&quot;section-74&quot;&gt;Вопрос 7.&lt;/h4&gt;
&lt;p&gt;Как в MySQL посмотреть список текущих сессий?&lt;/p&gt;

&lt;h4 id=&quot;section-75&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;show processlist в консоли mysql или спецальной утилитой mysqladmin с ключиком processlist,  вообщем ключевое слово – processlist.&lt;/p&gt;

&lt;h4 id=&quot;section-76&quot;&gt;Вопрос 8.&lt;/h4&gt;
&lt;p&gt;Как в PostgreSQL посмотреть список текущих сессий?&lt;/p&gt;

&lt;h4 id=&quot;section-77&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Тут нужно делать специальный запрос  в базе:  SELECT * from pg_stat_activity. Или так: $ps axu | grep postgre&lt;/p&gt;

&lt;h4 id=&quot;section-78&quot;&gt;Вопрос 9.&lt;/h4&gt;
&lt;p&gt;У Вас на сервере есть древовидная структура директорий с несколькими миллионами файлов. Напишите пример команды, которая удалит все файлы, не трогая структуру каталогов?&lt;/p&gt;

&lt;h4 id=&quot;section-79&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Это  один из наших любимых вопросов на собеседованиях   Конечно же, это легко делается с помощью команды find.&lt;/p&gt;

&lt;h4 id=&quot;section-80&quot;&gt;Вопрос 10.&lt;/h4&gt;
&lt;p&gt;Как не перезагружая операционную систему Linux (ядро 2.6.X), разрешить автоматическую перезагрузку через 10 секунд после того, как произошел kernel panic?&lt;/p&gt;

&lt;h4 id=&quot;section-81&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;$sysctl -w kernel.panic=10 или $echo 10 &amp;gt; /proc/sys/kernel/panic&lt;/p&gt;

&lt;h4 id=&quot;section-82&quot;&gt;Вопрос 11.&lt;/h4&gt;
&lt;p&gt;Напишите пример команд из coreutils, при помощи которых можно разбить содержимое текстового файла на три примерно равных части и поместить их в три разных файла?&lt;/p&gt;

&lt;h4 id=&quot;section-83&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Ну тут опять очень много вариантов, но это точно можно сделать с помощью команд split, dd,  tail или head.&lt;/p&gt;

&lt;h4 id=&quot;section-84&quot;&gt;Вопрос 12.&lt;/h4&gt;
&lt;p&gt;Как посмотреть в содержимое initrd, собранного mkinitramfs?&lt;/p&gt;

&lt;h4 id=&quot;section-85&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;$zcat |cpio -i –make-directories или разархивировать с помощью команды gunzip, а потом  сказать $mount -o loop initrd.img /mnt/initrd&lt;/p&gt;

&lt;h4 id=&quot;section-86&quot;&gt;Вопрос 13.&lt;/h4&gt;
&lt;p&gt;Какой утилитой в Linux посмотреть время наработки диска в часах?&lt;/p&gt;

&lt;h4 id=&quot;section-87&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Например, это можно сделать с помощью smartctl или sg_utils.&lt;/p&gt;

&lt;h4 id=&quot;section-88&quot;&gt;Вопрос 14.&lt;/h4&gt;
&lt;p&gt;Как в Linux (2.6.X) безопасно выгрузить модуль ядра e1000e?&lt;/p&gt;

&lt;h4 id=&quot;section-89&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;С помощью команды $modprobe -r e1000e&lt;/p&gt;

&lt;h4 id=&quot;section-90&quot;&gt;Вопрос 15.&lt;/h4&gt;
&lt;p&gt;Как в терминале bash при помощи одной служебной комбинации клавиш слово dpgk превратить в dpkg, если курсор стоит на букве k?&lt;/p&gt;

&lt;h4 id=&quot;section-91&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Эта комбинация клавиш -  ctrl-T&lt;/p&gt;

&lt;h4 id=&quot;section-92&quot;&gt;Вопрос 16.&lt;/h4&gt;
&lt;p&gt;Как в Linux посмотреть лимиты на количество открытых файлов, действующие в текущей сессии?&lt;/p&gt;

&lt;h4 id=&quot;section-93&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Раз надо посмотреть лимиты, то  логично это делать с помощью команды ulimit -n или ulimit –a&lt;/p&gt;

&lt;h4 id=&quot;section-94&quot;&gt;Вопрос 17.&lt;/h4&gt;
&lt;p&gt;Какими командами можно узнать mac-адрес сервера, доступа к которому у Вас нет, и он находится вашем сегменте ethernet сети? При этом известен его ip и до этого момента обмена ip-пакетами с этим сервером не было.&lt;/p&gt;

&lt;h4 id=&quot;section-95&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Для начала надо с ним обменяться пакетами. Например, это можно сделать с помощью команды ping, ну а потом можно посмотреть его mac  в arp таблице с помощью команды arp.&lt;/p&gt;

&lt;h4 id=&quot;section-96&quot;&gt;Вопрос 18.&lt;/h4&gt;
&lt;p&gt;Какой командой в Linux посмотреть размер журнала файловой системы ext3, смонтированной в /dev/sda1?&lt;/p&gt;

&lt;h4 id=&quot;section-97&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;dumpe2fs -h /dev/sda1&lt;/p&gt;

&lt;h4 id=&quot;section-98&quot;&gt;Вопрос 19.&lt;/h4&gt;
&lt;p&gt;Как в Linux изменить размер файловой системы tmpfs, смонтированной в /tmpfs с 2 до 4 гигабайт, без потери ее содержимого?&lt;/p&gt;

&lt;h4 id=&quot;section-99&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;mount /tmpfs -o remount, size=4g&lt;/p&gt;

&lt;h4 id=&quot;section-100&quot;&gt;Вопрос 20.&lt;/h4&gt;
&lt;p&gt;Как в Linux (ядро 2.6.X) одной командой посмотреть содержимое всех таблиц в firewall?&lt;/p&gt;

&lt;h4 id=&quot;section-101&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Это можно сделать командой iptables-save&lt;/p&gt;

&lt;h4 id=&quot;section-102&quot;&gt;Вопрос 21.&lt;/h4&gt;
&lt;p&gt;Какой командой посмотреть, какие из необходимых программе библиотек недоступны при ее запуске?&lt;/p&gt;

&lt;h4 id=&quot;section-103&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;С помощью любимой команды системных администраторов - strace или можно использовать ldd или gdb.&lt;/p&gt;

&lt;h4 id=&quot;section-104&quot;&gt;Вопрос 22.&lt;/h4&gt;
&lt;p&gt;Как посмотреть «дерево» процессов?&lt;/p&gt;

&lt;h4 id=&quot;section-105&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Тут тоже сразу можно привести несколько вариантов: pstree или ps ax –forest или ps axf или ps ax -H&lt;/p&gt;

&lt;h4 id=&quot;section-106&quot;&gt;Вопрос 23.&lt;/h4&gt;
&lt;p&gt;Как в Linux прочитать файл /serial.txt, находящейся в ISO9660-образе winxpsp4.iso?&lt;/p&gt;

&lt;h4 id=&quot;section-107&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;По ощущениям вопрос всем очень понравился, запоминайте ответ!  mount -o loop -t iso9660 winxpsp4.iso /mnt;; cat /mnt/serial.txt&lt;/p&gt;

&lt;h4 id=&quot;section-108&quot;&gt;Вопрос 24.&lt;/h4&gt;
&lt;p&gt;Что неправильно в параметрах конфигурации интерфейса: 
address 192.168.1.191 
netmask 255.255.255.192 
network 192.168.1.128 
gateway 192.168.1.129 
mtu 1450 ?&lt;/p&gt;

&lt;h4 id=&quot;section-109&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Адрес хоста (address) совпадает с адресом бродкаста (broadcast) сегмента сети.&lt;/p&gt;

&lt;h4 id=&quot;section-110&quot;&gt;Вопрос 25.&lt;/h4&gt;
&lt;p&gt;Как скопировать данные с поврежденного диска /dev/sda на целый /dev/sdb, пропустив только сбойные сектора?&lt;/p&gt;

&lt;h4 id=&quot;section-111&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Классический вариант - dd if=/dev/sda of=/dev/sdb conv=sync,noerror.
Параметр “conv=sync,noerror” указывает dd не читать блок, если при этом происходит ошибка, но записать в архивируемый файл-образ данные (недостающие входные данные будут заменены нулевыми байтами).
Еще есть  утилиты dd_rescue и ddrescue,  с помощью которых тоже можно решить задачу.&lt;/p&gt;

&lt;h4 id=&quot;section-112&quot;&gt;Вопрос 26.&lt;/h4&gt;
&lt;p&gt;Какой флаг должен быть установлен в tcp пакете, чтобы соединение было немедленно прекращено?&lt;/p&gt;

&lt;h4 id=&quot;section-113&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;RST&lt;/p&gt;

&lt;h4 id=&quot;section-114&quot;&gt;Вопрос 27.&lt;/h4&gt;
&lt;p&gt;Как в Linux запретить выделение более 90% физической памяти процессам, при условии, что swap выключен?&lt;/p&gt;

&lt;h4 id=&quot;section-115&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;канонический ответ согласно документации:
$sysctl -w vm.overcommit_memory=2; sysctl -w vm.overcommit_ratio=90 или 
$echo 2 &amp;gt; /proc/sys/vm/overcommit_memory; echo 90 &amp;gt; /proc/sys/vm/overcommit_ratio&lt;/p&gt;

&lt;h4 id=&quot;section-116&quot;&gt;Вопрос 28.&lt;/h4&gt;
&lt;p&gt;Как в Linux разрешить маршрутизацию ipv4 пакетов?&lt;/p&gt;

&lt;h4 id=&quot;section-117&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;sysctl -w net.ipv4.ip_forward=1 или echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward&lt;/p&gt;

&lt;h4 id=&quot;section-118&quot;&gt;Вопрос 29.&lt;/h4&gt;
&lt;p&gt;Есть файл file со строками: 
1 
10 
45 
6 
1 
5 
7 
10 
Как при помощи утилит, входящих в coreutils, узнать какие строки присутствуют в файле более 1 раза, и сколько раз повторяется каждая строка?&lt;/p&gt;

&lt;h4 id=&quot;section-119&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;cat file|sort|uniq -dc&lt;/p&gt;

&lt;h4 id=&quot;section-120&quot;&gt;Вопрос 30.&lt;/h4&gt;
&lt;p&gt;Вы зашли на сервер example.com и запустили там команду wget http://example.com Как посмотреть траффик этого соединения с помощью команды tcpdump?&lt;/p&gt;

&lt;h4 id=&quot;section-121&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;tcpdump -i lo или -i any
Для общения  между сетевым клиентским программным обеспечением и серверным приложением, расположенном на том же компьютере используется интерфейс loopback.&lt;/p&gt;

&lt;h2 id=&quot;section-122&quot;&gt;Ответы на вопросы второго тура:&lt;/h2&gt;

&lt;h4 id=&quot;section-123&quot;&gt;Вопрос 1.&lt;/h4&gt;
&lt;p&gt;Есть сервер, на котором сконфигурированы интерфейсы&lt;br /&gt;
eth0 - ip 1.2.3.4, netmask /25, gateway 1.2.3.1&lt;/p&gt;

&lt;p&gt;и
eth1 - ip 5.6.7.8, netmask /25, gateway 5.6.7.1. 
Есть клиенты, которые работают с этим сервером,  и они находятся за пределами описанных выше сетей. Вам необходимо, что бы ответы на запросы отправлялись  через тот же интерфейс, через который они были получены.
Напишите последовательность команд, которая позволяет это сделать. Для решения задачи используйте статическую маршрутизацию.&lt;/p&gt;

&lt;h4 id=&quot;section-124&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;ip rule add from 1.2.3.4 lookup 200 priority 200 
ip route add default via 1.2.3.1 dev eth0 src 1.2.3.4 table 200 
ip route add default via 5.6.7.1&lt;/p&gt;

&lt;h4 id=&quot;section-125&quot;&gt;Вопрос 2.&lt;/h4&gt;
&lt;p&gt;Как в командном режиме vi или vim в текстовом файле заменить в каждой строке файла первые сочетания цифр, которые начинаются с  цифры 3, а заканчиваются на цифру 6 (между тройкой и шестеркой могут быть одна или две любых цифры), на подстроку 444?&lt;/p&gt;

&lt;h4 id=&quot;section-126&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;:%s/3[0-9]{1,2}6/444/  или  :%s/3\d\d?6/444/&lt;/p&gt;

&lt;h4 id=&quot;section-127&quot;&gt;Вопрос 3.&lt;/h4&gt;
&lt;p&gt;На сервере c помощью mdadm собран программный raid 10 на четырех дисках со следующим параметрами:
near=2
far=1
Нумерация дисков начинается с нуля. 
Какое максимальное количество дисков можно одновременно вынуть из raid-массива не нарушая его работоспособность?
Напишите номер или номера этих дисков.&lt;/p&gt;

&lt;h4 id=&quot;section-128&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;2 штуки;  0 и 2 или 1 и 3&lt;/p&gt;

&lt;h4 id=&quot;section-129&quot;&gt;Вопрос 4.&lt;/h4&gt;
&lt;p&gt;Задачи, работающие на Вашем сервере,  требуют большого количества вычислительных мощностей.  Вы подозреваете, что governor может необоснованно занижать частоту процессоров. Напишите команды, которыми можно заставить процессоры работать всегда на максимальной частоте, не перегружая сервер и не устанавливая дополнительных утилит.&lt;/p&gt;

&lt;h4 id=&quot;section-130&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;$echo userspace &amp;gt;/sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
$cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq &amp;gt;/sys/devices/system/cpu/cpu0/cpufreq/scaling_setspeed&lt;/p&gt;

&lt;h4 id=&quot;section-131&quot;&gt;Вопрос 5.&lt;/h4&gt;
&lt;p&gt;У вас есть сервер с операционной системой Linux.  Памяти на этом сервере 1 гигабайт.  Там работает процесс, у которого сегмент кода  занимает 500 мегабайт, столько же занимает сегмент данных. Запускаем второй такой же процесс.&lt;/p&gt;

&lt;p&gt;Мы промаркировали страницы памяти по типам:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;ul&gt;
      &lt;li&gt;код первого процесса;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;ul&gt;
      &lt;li&gt;данные первого процесса;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;ul&gt;
      &lt;li&gt;код второго процесса;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;ul&gt;
      &lt;li&gt;данные второго процесса.
Напишите все номера типов страниц,  которые могут оказаться в swap.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;section-132&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;2 и 4 
В swap не попадают страницы с маппингом сегмента кода, так как они всегда могут быть перечитаны с диска.&lt;/p&gt;

&lt;h4 id=&quot;section-133&quot;&gt;Вопрос 6.&lt;/h4&gt;
&lt;p&gt;Есть сервер про который известно,  что на нем есть SATA диск с файловой системой ext3, 32 гигабайта памяти, нет swap и включить его нельзя. Вы запускаете параллельно команды 
dd if=/dev/zero of=/opt/testfiles/tesfile1 bs=1G count=64
и 
dd if=/dev/zero of=/opt/testfiles/tesfile2 bs=1G count=64.
Через несколько минут сервер уходит в iowait, команды в консоли очень медленно работают, еще через несколько минут сервер падает с OOM в kernel panic. 
Если Вы запускаете 
dd if=/dev/zero of=/opt/testfiles/tesfile1 bs=1G count=18
и
dd if=/dev/zero of=/opt/testfiles/tesfile2 bs=1G count=18
то описанного эффекта не наступает. 
Как можно бороться с описанной проблемой,  не ограничивая дисковую активность на сервере и не изменяя его аппаратных характеристик?&lt;/p&gt;

&lt;h4 id=&quot;section-134&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Выключить кэш на запись: 
$sysctl -w vm.dirty_ratio = 0 
или перемонтировать файловую систему в sync: 
$mount -o remount,sync /mountpoint&lt;/p&gt;

&lt;h4 id=&quot;section-135&quot;&gt;Вопрос 7.&lt;/h4&gt;
&lt;p&gt;У Вас есть два сервера S и R.
На S (IP = 192.168.1.2) на 80 порту запущен сайт, и он недоступен из внешней сети. 
R используется в качестве шлюза по умолчанию для сервера S и доступен из внешней сети по адресу 1.2.3.4. 
Чтобы обеспечить доступ к сайту из внешней сети,  на R настроен DNAT: 
1.2.3.4:80-&amp;gt;192.168.1.2:80
Вы проверяете работу этой схемы, находясь на сервере S, командой telnet 1.2.3.4 80.
Почему у Вас не получилось установить соединение?&lt;/p&gt;

&lt;h4 id=&quot;section-136&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Ключевые слова в ответе на этот вопрос: martian packets или марсианские пакеты - пакеты с неизвестным маршрутом к источнику. Получение таких пакетов не ожидается системой Linux, особенно учитывая то, откуда они прибыли (например, пакеты, получаемые от внутренней машины, но приходящие на внешний интерфейс).&lt;/p&gt;

&lt;h4 id=&quot;section-137&quot;&gt;Вопрос 8.&lt;/h4&gt;
&lt;p&gt;На сервере c помощью mdadm был собран программный raid 0 на четырех дисках.  В какой-то момент в серверной проходила уборщица,  и неожиданно у сервера исчезло питание. Когда сервер включили, выяснилось, что  рейд полностью развалился (mdadm не видит суперблоков). 
Каким образом можно восстановить данные (собрать рейд) на этой машине? Приведите пример команды.&lt;/p&gt;

&lt;h4 id=&quot;section-138&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Необходимо пересоздать массив, и поскольку это stripe, и ресинхронизации делаться при создании не будет, данные с большой вероятностью удастся оттуда достать.&lt;/p&gt;

&lt;h4 id=&quot;section-139&quot;&gt;Вопрос 9.&lt;/h4&gt;
&lt;p&gt;Внезапно на web сервере с Linux выросла нагрузка. Вы зашли на него и обнаружили, что из 1000 соединений 990 приходит с адреса ipv6 ::ffff:1.2.3.4.  Вы подозреваете, что это DOS-атака, и хотите заблокировать соединения с этого адреса. Какой командой Вы это сделаете?&lt;/p&gt;

&lt;h4 id=&quot;section-140&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;iptables -A INPUT -s 1.2.3.4 -j REJECT&lt;/p&gt;

&lt;h4 id=&quot;section-141&quot;&gt;Вопрос 10.&lt;/h4&gt;
&lt;p&gt;На 1.2.3.4: 443 отвечают 3 сайта: 
forbar.tj, 
foo.ec и 
bar.ag 
по протоколу https.
Сколько должно быть сертификатов для этих web сайтов, и что должно в них быть прописано согласно RFC, чтобы браузеры могли им доверять?&lt;/p&gt;

&lt;h4 id=&quot;section-142&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;сертификат должен быть один;
все три хоста должны быть описаны в X509v3 Subject Alternative Name&lt;/p&gt;

&lt;h4 id=&quot;section-143&quot;&gt;Вопрос 11.&lt;/h4&gt;
&lt;p&gt;На сервере запустили форк-бомбу.  У Вас есть открытая ssh-сессия на машину. Серверу в настоящий момент настолько плохо,  что нельзя даже запустить ps, так как закончились pid-ы.  Родительский и дочерние процессы форк-бомбы называются someprogram.bin
Каким образом можно убить все процессы someprogram.bin?&lt;/p&gt;

&lt;h4 id=&quot;section-144&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;exec busybox/python, откуда в цикле убить все процессы не порождая новых процессов.&lt;/p&gt;

&lt;h4 id=&quot;section-145&quot;&gt;Вопрос 12.&lt;/h4&gt;
&lt;p&gt;Приведите пример команды, которая позволяет настроить  в Linux маршрутизацию пакетов с source-address  192.168.1.1/24 в сеть 192.168.2.0/24 через маршрутизаторы 192.168.1.128 и 192.168.1.253 таким образом, чтобы в случае недоступности первого использовался второй маршрутизатор (автоматически).&lt;/p&gt;

&lt;h4 id=&quot;section-146&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;ip route add 192.168.2.0/24 src 192.168.1.1 nexthop via 192.168.1.128 dev eth0 weight 1 nexthop via 192.168.1.253 dev eth0 weight 2 или использовать метрики&lt;/p&gt;

&lt;h4 id=&quot;section-147&quot;&gt;Вопрос 13.&lt;/h4&gt;
&lt;p&gt;В какой пропорции разложится входящая нагрузка в etherchannel, собранный из 2 портов с алгоритмом хеширования по MAC-адресам,  если входящий трафик генерируется нечетным количеством машин (N).&lt;/p&gt;

&lt;h4 id=&quot;section-148&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;((N-1)/2)+1:(N-1)/2 или (n-1)/(n+1)&lt;/p&gt;

&lt;h4 id=&quot;section-149&quot;&gt;Вопрос 14.&lt;/h4&gt;
&lt;p&gt;У Вас на сервере запущено приложение, которое хранит все данные в одном файле /var/spool/veryimportantinformation.dat
Вы случайно удалили этот файл, попытались найти резервную копию, но не нашли ее. Приложение все еще работает. Как восстановить этот файл?&lt;/p&gt;

&lt;h4 id=&quot;section-150&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Нужно узнать $PID приложения и поискать содержимое удаленного файла в /proc/$PID/fd/.&lt;/p&gt;

&lt;h4 id=&quot;section-151&quot;&gt;Вопрос 15.&lt;/h4&gt;
&lt;p&gt;У Вас в зоне foobar.tj есть следующие записи:
a IN A 1.2.3.4
b CNAME a
MX 10 mail.foo.ec
g IN A 1.2.3.2
* IN CNAME b
Надо ли что-то надо изменить в зоне, чтобы можно было принимать почту для z.foobar.tj на сервер mail.foo.ec?&lt;/p&gt;

&lt;h4 id=&quot;section-152&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;В зоне допущена ошибка, и при попытке загрузить ее в самом распространенном DNS сервере Bind 9, вы увидите сообщение:
dns_master_load: /etc/bind/foobar.tj:3: b.foobar.tj: CNAME and other data
И зона банально не загрузится.
Соответственно, эту ошибку тоже придется исправить. Например, явно прописав:
b IN A 1.2.3.4
MX 10 mail.foo.ec.
Ну и дописав явно запись:
z MX 10 mail.foo.ec.
Не забывая, конечно, ставить точки, иначе почта будет пытаться уйти на хост mail.foo.ec.foobar.tj.&lt;/p&gt;

&lt;h2 id=&quot;section-153&quot;&gt;Вопросы и ответы ФИНАЛА:&lt;/h2&gt;

&lt;h4 id=&quot;section-154&quot;&gt;Вопрос 1.&lt;/h4&gt;
&lt;p&gt;Укажите размер обычных и больших страниц памяти в Linux x86/x86_64 (по умолчанию, ответ в кб)?&lt;/p&gt;

&lt;h4 id=&quot;section-155&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;4кб, 2048кб&lt;/p&gt;

&lt;h4 id=&quot;section-156&quot;&gt;Вопрос 2.&lt;/h4&gt;
&lt;p&gt;Вам достался в наследство сервер от администратора, который любил фильм «Матрица», и каждый раз, когда вы заходите на него, система приветствует вас сообщением:
Linux yandex-games #ya1 SMP Mon Sep 20 5:43:25 MSD 2010 x86_64 GNU/Linux&lt;/p&gt;

&lt;p&gt;The Matrix is a system, Neo. That system is our enemy. But when youre inside, you look around, what do you see? Businessmen, teachers, lawyers, carpenters. The very minds of the people we are trying to save. But until we do, these people are still a part of that system, and that makes them our enemy. You have to understand, most of these people are not ready to be unplugged. And many of them are so inured, so hopelessly dependent 
on the system, that they will fight to protect it.&lt;/p&gt;

&lt;p&gt;root@yandex:#
Вам же больше нравятся цитаты из фильма «Сеть», и Вы хотите заменить приветствие. Напишите все возможные варианты из перечисленных ниже, где вы будете искать цитату Морфеуса:&lt;/p&gt;

&lt;p&gt;1./etc/issue
2./etc/motd
3./etc/debconf.conf
4./etc/pam.d/login
5./etc/adduser.conf
6./etc/hostname
7./etc/environment&lt;/p&gt;

&lt;h4 id=&quot;section-157&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;1, 2, 4&lt;/p&gt;

&lt;h4 id=&quot;section-158&quot;&gt;Вопрос 3.&lt;/h4&gt;
&lt;p&gt;Ваш пакет приходит на порт веб-сервера, работающего под управлением ОС linux.
В каком порядке по цепочкам таблиц iptables проследует этот пакет?
В качестве ответа принимаются варианты из нескольких пунктов в порядке возрастания (например: 1,2,5,10).&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;nat PREROUTING&lt;/li&gt;
  &lt;li&gt;mangle PREROUTING&lt;/li&gt;
  &lt;li&gt;filter INPUT&lt;/li&gt;
  &lt;li&gt;mangle INPUT&lt;/li&gt;
  &lt;li&gt;filter FORWARD&lt;/li&gt;
  &lt;li&gt;mangle FORWARD&lt;/li&gt;
  &lt;li&gt;filter OUTPUT&lt;/li&gt;
  &lt;li&gt;mangle OUTPUT&lt;/li&gt;
  &lt;li&gt;nat OUTPUT&lt;/li&gt;
  &lt;li&gt;nat POSTROUTING&lt;/li&gt;
  &lt;li&gt;mangle POSTROUTING&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;section-159&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;1,2,3,4&lt;/p&gt;

&lt;h4 id=&quot;section-160&quot;&gt;Вопрос 4.&lt;/h4&gt;
&lt;p&gt;Вы хотите, чтобы ваш сервер не «пинговался», но продолжал принимать и отвечать на все остальные icmp сообщения.
Какой (или какими) командами iptables из списка можно это сделать? Перечислите все варианты.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;iptables -I OUTPUT -p icmp –icmp-type timestamp-reply -j DROP&lt;/li&gt;
  &lt;li&gt;iptables -I OUTPUT -p icmp –icmp-type echo-reply -j DROP&lt;/li&gt;
  &lt;li&gt;iptables -I INPUT -p icmp –icmp-type precedence-cutoff -j DROP&lt;/li&gt;
  &lt;li&gt;iptables -I INPUT -p icmp –icmp-type echo-request -j DROP&lt;/li&gt;
  &lt;li&gt;iptables -I INPUT -p icmp –icmp-type timestamp-request -j DROP&lt;/li&gt;
  &lt;li&gt;iptables -I INPUT -p icmp –icmp-type echo-reply -j DROP&lt;/li&gt;
  &lt;li&gt;правильные ответы отсутствуют&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;section-161&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;2, 4&lt;/p&gt;

&lt;h4 id=&quot;section-162&quot;&gt;Вопрос 5.&lt;/h4&gt;
&lt;p&gt;Ваш пакет проходит через роутер под управлением ОС Linux. 
В каком порядке данный пакет проходит по цепочкам таблиц iptables?
В качестве ответа принимаются варианты из нескольких пунктов 
в правильном порядке (например 1,2,3,4).&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;nat PREROUTING&lt;/li&gt;
  &lt;li&gt;mangle PREROUTING
3, filter INPUT&lt;/li&gt;
  &lt;li&gt;mangle INPUT&lt;/li&gt;
  &lt;li&gt;filter FORWARD&lt;/li&gt;
  &lt;li&gt;mangle FORWARD&lt;/li&gt;
  &lt;li&gt;filter OUTPUT&lt;/li&gt;
  &lt;li&gt;mangle OUTPUT&lt;/li&gt;
  &lt;li&gt;nat OUTPUT&lt;/li&gt;
  &lt;li&gt;nat POSTROUTING&lt;/li&gt;
  &lt;li&gt;mangle POSTROUTING&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;section-163&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;1,2,5,6,11,10&lt;/p&gt;

&lt;h4 id=&quot;section-164&quot;&gt;Вопрос 6.&lt;/h4&gt;
&lt;p&gt;Напишите тип DNS-записи, которая связывает имя хоста с адресом протокола IPv6 в файле зоны.&lt;/p&gt;

&lt;h4 id=&quot;section-165&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;AAAA&lt;/p&gt;

&lt;h4 id=&quot;section-166&quot;&gt;Вопрос 7.&lt;/h4&gt;
&lt;p&gt;Какие в ядре Linux существуют аллокаторы памяти?
Выберите все варианты:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;SLAB&lt;/li&gt;
  &lt;li&gt;SLOPE&lt;/li&gt;
  &lt;li&gt;SLEEP&lt;/li&gt;
  &lt;li&gt;SLOB&lt;/li&gt;
  &lt;li&gt;SLIP&lt;/li&gt;
  &lt;li&gt;SLEB&lt;/li&gt;
  &lt;li&gt;SLUB&lt;/li&gt;
  &lt;li&gt;SLURM&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;section-167&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;1,5,8&lt;/p&gt;

&lt;h4 id=&quot;section-168&quot;&gt;Вопрос 8.&lt;/h4&gt;
&lt;p&gt;C помощью какого драйвера/дисциплины можно шейпить входящий на интерфейс машины трафик?&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;htb&lt;/li&gt;
  &lt;li&gt;sfq&lt;/li&gt;
  &lt;li&gt;ifb&lt;/li&gt;
  &lt;li&gt;hfsc&lt;/li&gt;
  &lt;li&gt;tfb&lt;/li&gt;
  &lt;li&gt;imq&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;section-169&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;3, 6&lt;/p&gt;

&lt;h4 id=&quot;section-170&quot;&gt;Вопрос 9.&lt;/h4&gt;
&lt;p&gt;Можно ли передать управление компьютером на другой компьютер с помощью Transfer Control Protocol ((да/нет)?&lt;/p&gt;

&lt;h4 id=&quot;section-171&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;да&lt;/p&gt;

&lt;h4 id=&quot;section-172&quot;&gt;Вопрос 10.&lt;/h4&gt;
&lt;p&gt;Какая из нижеперечисленных баз данных не является реляционной?&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;PostgreSQL&lt;/li&gt;
  &lt;li&gt;SqlLite&lt;/li&gt;
  &lt;li&gt;Bdb&lt;/li&gt;
  &lt;li&gt;MySQL&lt;/li&gt;
  &lt;li&gt;Oracle&lt;/li&gt;
  &lt;li&gt;MongoDb&lt;/li&gt;
  &lt;li&gt;Drizzle&lt;/li&gt;
  &lt;li&gt;CouchDB&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;section-173&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;3, 6, 8&lt;/p&gt;

&lt;h4 id=&quot;section-174&quot;&gt;Вопрос 11.&lt;/h4&gt;
&lt;p&gt;Вы установили на сервер свой любимый шелл tcsh в каталог /usr/bin/.
При запуске команды chsh -s /usr/bin/tcsh Вам сообщили:
tcsh is an invalid shell.
Куда надо прописать строчку /usr/bin/tcsh, 
чтобы вы и другие пользователи имели возможность 
менять себе shell с помощью команды chsh?&lt;/p&gt;

&lt;h4 id=&quot;etcshells&quot;&gt;Ответ:/etc/shells&lt;/h4&gt;

&lt;h4 id=&quot;section-175&quot;&gt;Вопрос 12.&lt;/h4&gt;
&lt;p&gt;Какое минимальное количество нажатий комбинации клавиш Ctrl-T в bash превратит слово СИСЯРО в слово РОССИЯ?&lt;/p&gt;

&lt;h4 id=&quot;section-176&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;9&lt;/p&gt;

&lt;h4 id=&quot;section-177&quot;&gt;Вопрос 13.&lt;/h4&gt;
&lt;p&gt;Какая директива в конфигурационном файле зоны test.ru отвечает за допустимое время хранения зоны в кэшах неответственных DNS-серверов?&lt;/p&gt;

&lt;h4 id=&quot;section-178&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;ttl&lt;/p&gt;

&lt;h4 id=&quot;section-179&quot;&gt;Вопрос 14.&lt;/h4&gt;
&lt;p&gt;Какая cli-команда используется для управления LVS?&lt;/p&gt;

&lt;h4 id=&quot;section-180&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;ipvsadm&lt;/p&gt;

&lt;h4 id=&quot;section-181&quot;&gt;Вопрос 15.&lt;/h4&gt;
&lt;p&gt;Какая cli-утилита в Linux используется для настройки traffic shaping c classful queuing disciplines?&lt;/p&gt;

&lt;h4 id=&quot;section-182&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;tc&lt;/p&gt;

&lt;h4 id=&quot;section-183&quot;&gt;Вопрос 16.&lt;/h4&gt;
&lt;p&gt;Где в /proc посмотреть параметры, c которыми было загружено ядро Linux?&lt;/p&gt;

&lt;h4 id=&quot;section-184&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;cmdline&lt;/p&gt;

&lt;h4 id=&quot;section-185&quot;&gt;Вопрос 17.&lt;/h4&gt;
&lt;p&gt;Как зовут любимого пингвина Линуса?&lt;/p&gt;

&lt;h4 id=&quot;section-186&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Tux Такс Тукс - мы принимали любой ответ на этот вопрос&lt;/p&gt;

&lt;h4 id=&quot;section-187&quot;&gt;Вопрос 18.&lt;/h4&gt;
&lt;p&gt;На значение какого параметра в 32-битных системах, показывающегося в /proc/meminfo, влияют настройки overcommit?&lt;/p&gt;

&lt;h4 id=&quot;section-188&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;CommitLimit&lt;/p&gt;

&lt;h4 id=&quot;section-189&quot;&gt;Вопрос 19.&lt;/h4&gt;
&lt;p&gt;Есть зона yandex.ru в ней есть запись:
@ IN SOA ns1.yandex.ru. sysadmin.yandex-team.ru. (
2010111900 ;
1800 ;
900 ;
2592000 ;
900 ) ;&lt;/p&gt;

&lt;p&gt;Случилась неприятность, вторичный сервер, обслуживающий один из наших ДЦ, не может соединиться с первичным.
Напишите время в минутах, через которое данные зоны на вторичном сервере устареют и будут считаться недействительными.&lt;/p&gt;

&lt;h4 id=&quot;section-190&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;43200&lt;/p&gt;

&lt;h4 id=&quot;section-191&quot;&gt;Вопрос 20.&lt;/h4&gt;
&lt;p&gt;Какими из перечисленных ниже команд можно проверить, открыт ли tcp-порт на удаленном компьютере 
(напишите номера правильных ответов):&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;curl&lt;/li&gt;
  &lt;li&gt;nc&lt;/li&gt;
  &lt;li&gt;cm&lt;/li&gt;
  &lt;li&gt;nm&lt;/li&gt;
  &lt;li&gt;nmap&lt;/li&gt;
  &lt;li&gt;rsync&lt;/li&gt;
  &lt;li&gt;telnet&lt;/li&gt;
  &lt;li&gt;lsof&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;section-192&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;1, 2, 5, 6, 7&lt;/p&gt;

&lt;h4 id=&quot;section-193&quot;&gt;Вопрос 21.&lt;/h4&gt;
&lt;p&gt;Как в Linux называется тип памяти, в котором размещаются данные, не ассоциированные ни с каким файлом на файловой системе?&lt;/p&gt;

&lt;h4 id=&quot;section-194&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;AnonPages/anonymous pages/анонимные страницы&lt;/p&gt;

&lt;h4 id=&quot;section-195&quot;&gt;Вопрос 22.&lt;/h4&gt;
&lt;p&gt;«90x60x90 – это?»&lt;/p&gt;

&lt;h4 id=&quot;section-196&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;486000, но вообще и на этот вопрос мы принимали любой ответ, но наши участники оказались серьезными людьми и честно перемножили эти цифры&lt;/p&gt;

&lt;h4 id=&quot;section-197&quot;&gt;Вопрос 23.&lt;/h4&gt;
&lt;p&gt;Как «сбросить» страничный кеш в Linux (и только его)?&lt;/p&gt;

&lt;h4 id=&quot;section-198&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;echo 1 &amp;gt; /proc/sys/vm/drop_caches или sysctl -w vm.drop_caches=1&lt;/p&gt;

&lt;h4 id=&quot;section-199&quot;&gt;Вопрос 24.&lt;/h4&gt;
&lt;p&gt;Есть зона yandex.ru в ней есть запись:
@ IN SOA ns1.yandex.ru. sysadmin.yandex-team.ru. (
2010111900 ;
1800 ;
900 ;
2592000 ;
900 ) ;
Напишите, с какой частотой (в минутах) вторичному DNS-серверу ns2.yandex.ru следует проверять актуальность информации для зоны yandex.ru.&lt;/p&gt;

&lt;h4 id=&quot;section-200&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;30&lt;/p&gt;

&lt;h4 id=&quot;section-201&quot;&gt;Вопрос 25.&lt;/h4&gt;
&lt;p&gt;Каким должно быть значение переменной ${value} в команде echo ${value} &amp;gt; /proc/sysrq-trigger, если Вы хотите послать сигнал 15 все процессам в Linux, кроме init?&lt;/p&gt;

&lt;h4 id=&quot;section-202&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;e&lt;/p&gt;

&lt;h4 id=&quot;section-203&quot;&gt;Вопрос 26.&lt;/h4&gt;
&lt;p&gt;Вы выполнили следующую команду:
rsync -avH sourcehost::sourceshare/filename desthost::destshare
Какие характеристики файлов при этом скопировались:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;владелец;&lt;/li&gt;
  &lt;li&gt;права доступа;&lt;/li&gt;
  &lt;li&gt;время создания&lt;/li&gt;
  &lt;li&gt;никакие&lt;/li&gt;
  &lt;li&gt;владелец и права доступа;&lt;/li&gt;
  &lt;li&gt;права доступа и время создания;&lt;/li&gt;
  &lt;li&gt;владелец, права доступа и время создания;&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;section-204&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;7&lt;/p&gt;

&lt;h4 id=&quot;section-205&quot;&gt;Вопрос 27.&lt;/h4&gt;
&lt;p&gt;Что едят пингвины?&lt;/p&gt;

&lt;h4 id=&quot;section-206&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;планктон, рыбу и головоногих моллюсков и еще много чего еще&lt;/p&gt;

&lt;h4 id=&quot;section-207&quot;&gt;Вопрос 28.&lt;/h4&gt;
&lt;p&gt;В выводе ps Вы видите процесс
19355 pts/12 T 0:00 someprogram.bin
Какой сигнал (укажите буквенное именование сигнала) необходимо послать для того, чтобы someprogram.bin продолжил исполняться?&lt;/p&gt;

&lt;h4 id=&quot;section-208&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;CONT&lt;/p&gt;

&lt;h4 id=&quot;section-209&quot;&gt;Вопрос 29.&lt;/h4&gt;
&lt;p&gt;Вы хотите, чтобы в текущей сессии bash все файлы создавались с правами u=rw,g=w,o=w.
Какую встроенную команду bash надо использовать и с какими параметрами?&lt;/p&gt;

&lt;h4 id=&quot;section-210&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;umask 0155&lt;/p&gt;

&lt;h4 id=&quot;section-211&quot;&gt;Вопрос 30.&lt;/h4&gt;
&lt;p&gt;Напишите одну команду с аргументами, с помощью которой в Linux можно создать символьное устройство
mydev (minor/major 5/1) c правами u=rw,g=r,o=r&lt;/p&gt;

&lt;h4 id=&quot;section-212&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;mknod -m644 mydev c 1 5&lt;/p&gt;

&lt;h4 id=&quot;section-213&quot;&gt;Вопрос 31.&lt;/h4&gt;
&lt;p&gt;Сколько трехюнитовых серверов можно разместить в 39-юнитовой стойке при условии, что 12 и 13 юниты заняты свитчами (счет с единицы)?&lt;/p&gt;

&lt;h4 id=&quot;section-214&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;11&lt;/p&gt;

&lt;h4 id=&quot;section-215&quot;&gt;Вопрос 32.&lt;/h4&gt;
&lt;p&gt;Какой протокол транспортного уровня модели OSI/ISO используется для AXFR-запросов в DNS?&lt;/p&gt;

&lt;h4 id=&quot;section-216&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;tcp&lt;/p&gt;

&lt;h4 id=&quot;section-217&quot;&gt;Вопрос 33.&lt;/h4&gt;
&lt;p&gt;Про что вы думаете, если видите красного черта?&lt;/p&gt;

&lt;h4 id=&quot;section-218&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;Вообще про FreeBSD, но чем черт не шутит?&lt;/p&gt;

&lt;h4 id=&quot;section-219&quot;&gt;Вопрос 34.&lt;/h4&gt;
&lt;p&gt;Сколько адресов содержит сеть /17 (включая все зарезервированные)?&lt;/p&gt;

&lt;h4 id=&quot;section-220&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;32768&lt;/p&gt;

&lt;h4 id=&quot;section-221&quot;&gt;Вопрос 35.&lt;/h4&gt;
&lt;p&gt;Какой командой можно запретить всем пользователям (включая root) удалить файл с файловой системы ext3 при условии, что в системе выключены дополнительные системы контроля доступа (selinux, apparmor, etc.)?&lt;/p&gt;

&lt;h4 id=&quot;section-222&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;chattr&lt;/p&gt;

&lt;h4 id=&quot;section-223&quot;&gt;Вопрос 36.&lt;/h4&gt;
&lt;p&gt;Какие из перечисленных ниже вариантов значения TTL нужно написать в зоне test.ru, если у вас есть задача отдавать новые данные по всему миру максимум через 3 часа после обновления зоны:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;3H&lt;/li&gt;
  &lt;li&gt;180m&lt;/li&gt;
  &lt;li&gt;10800&lt;/li&gt;
  &lt;li&gt;1080p&lt;/li&gt;
  &lt;li&gt;10800s&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;section-224&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;1,2,3,5&lt;/p&gt;

&lt;h4 id=&quot;section-225&quot;&gt;Вопрос 37.&lt;/h4&gt;
&lt;p&gt;Вы в Linux выполнили в bash команду 
«grep processor /proc/cpuinfo | sort | tail -1 | cut -f2 -d:»
на шестнадцатиядерном компьютере. Какую строку Вы получили?&lt;/p&gt;

&lt;h4 id=&quot;section-226&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;9&lt;/p&gt;

&lt;h4 id=&quot;section-227&quot;&gt;Вопрос 38.&lt;/h4&gt;
&lt;p&gt;Какой код ответа HTTP требует, чтобы пользователь заплатил деньги?&lt;/p&gt;

&lt;h4 id=&quot;section-228&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;402&lt;/p&gt;

&lt;h4 id=&quot;section-229&quot;&gt;Вопрос 39.&lt;/h4&gt;
&lt;p&gt;Напишите номер уровня модели OSI/ISO, c протоколом которого работает команда arp?&lt;/p&gt;

&lt;h4 id=&quot;section-230&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;2&lt;/p&gt;

&lt;h4 id=&quot;section-231&quot;&gt;Вопрос 40.&lt;/h4&gt;
&lt;p&gt;Какая из перечисленных ниже строчек файла syslog.conf позволяет записывать в текстовый лог-файл все критические события от ядра:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;auth,authpriv.* /var/log/auth.log&lt;/li&gt;
  &lt;li&gt;*;auth,authpriv.none -/var/log/syslog&lt;/li&gt;
  &lt;li&gt;cron.* /var/log/cron.log&lt;/li&gt;
  &lt;li&gt;daemon.* -/var/log/daemon.log&lt;/li&gt;
  &lt;li&gt;kern.* -/var/log/kern.log&lt;/li&gt;
  &lt;li&gt;lpr.* -/var/log/lpr.log&lt;/li&gt;
  &lt;li&gt;mail.* -/var/log/mail.log&lt;/li&gt;
  &lt;li&gt;user.* -/var/log/user.log&lt;/li&gt;
  &lt;li&gt;kern.crit root, vasya&lt;/li&gt;
  &lt;li&gt;kern.crit @vasya&lt;/li&gt;
  &lt;li&gt;*.crit /var/log/crit/log&lt;/li&gt;
  &lt;li&gt;*.crit /dev/console&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;section-232&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;5,11&lt;/p&gt;

&lt;h4 id=&quot;section-233&quot;&gt;Вопрос 41.&lt;/h4&gt;
&lt;p&gt;Какие права будут у файла (напишите восьмеричное представление), если Вы его создали командой umask 0156; touch myfile?&lt;/p&gt;

&lt;h4 id=&quot;section-234&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;620&lt;/p&gt;

&lt;h4 id=&quot;section-235&quot;&gt;Вопрос 42.&lt;/h4&gt;
&lt;p&gt;Что едят красные черти?&lt;/p&gt;

&lt;h4 id=&quot;section-236&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;тут мы и сами не знали ответа, по этому не ограничивали участников&lt;/p&gt;

&lt;h4 id=&quot;section-237&quot;&gt;Вопрос 43.&lt;/h4&gt;
&lt;p&gt;В каком веке закончится UnixTime на 32-битных архитектурах?&lt;/p&gt;

&lt;h4 id=&quot;section-238&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;21&lt;/p&gt;

&lt;h4 id=&quot;section-239&quot;&gt;Вопрос 44.&lt;/h4&gt;
&lt;p&gt;Как в Linux называется утилита для создания/управления правилами, затрагивающими трафик на bridge интерфейсах?&lt;/p&gt;

&lt;h4 id=&quot;section-240&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;ebtables&lt;/p&gt;

&lt;h4 id=&quot;section-241&quot;&gt;Вопрос 45.&lt;/h4&gt;
&lt;p&gt;В какой таблице iptables можно использовать цели “-j CONNMARK” и “-j MARK” (пометка соединения)?&lt;/p&gt;

&lt;h4 id=&quot;section-242&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;mangle&lt;/p&gt;

&lt;h4 id=&quot;section-243&quot;&gt;Вопрос 46.&lt;/h4&gt;
&lt;p&gt;Отметьте все сети из списка, которые не являются маршрутизируемыми в глобальной сети Интернет?&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;10.0.0.0/8&lt;/li&gt;
  &lt;li&gt;192.168.0.0/16&lt;/li&gt;
  &lt;li&gt;182.168.0.0/16&lt;/li&gt;
  &lt;li&gt;172.16.0.0/16&lt;/li&gt;
  &lt;li&gt;225.0.0.0/8&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;section-244&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;1,2,4&lt;/p&gt;

&lt;h4 id=&quot;section-245&quot;&gt;Вопрос 47.&lt;/h4&gt;
&lt;p&gt;В какой таблице iptables можно изменять значение MSS?&lt;/p&gt;

&lt;h4 id=&quot;section-246&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;mangle&lt;/p&gt;

&lt;h4 id=&quot;section-247&quot;&gt;Вопрос 48.&lt;/h4&gt;
&lt;p&gt;Какой ключик надо обязательно не забыть сказать mdadm-у, если у нас под руками есть развалившийся raid10 массив из шести дисков, который не собирается по mdadm –assemble, и мы хотим попробовать собрать его через mdadm –create (сохранив те же параметры рейда и порядок дисков)?&lt;/p&gt;

&lt;h4 id=&quot;section-248&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;–assume-clean&lt;/p&gt;

&lt;h4 id=&quot;section-249&quot;&gt;Вопрос 49.&lt;/h4&gt;
&lt;p&gt;С помощью какого модуля ядра можно отправить последние сообщения перед аварийной остановкой системы (kernel panic) на соседний сервер, который находится в том же сегменте сети?&lt;/p&gt;

&lt;h4 id=&quot;section-250&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;netconsole&lt;/p&gt;

&lt;h4 id=&quot;section-251&quot;&gt;Вопрос 50.&lt;/h4&gt;
&lt;p&gt;У вас есть свеженалитая host-система с Ubuntu 10.04 с ванильным ядром. 
Вам позарез необходимо поэксперементировать с новой файловой системой POHMELFS и ядром 2.6.37, но перезагружать сервер вы не можете. 
Какая из перечисленных ниже систем виртуализации не подходит для этой задачи?&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Xen&lt;/li&gt;
  &lt;li&gt;OpenVz&lt;/li&gt;
  &lt;li&gt;Kvm&lt;/li&gt;
  &lt;li&gt;Virtuozzo&lt;/li&gt;
  &lt;li&gt;VmWare server&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;section-252&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;1, 2, 4&lt;/p&gt;

&lt;h4 id=&quot;section-253&quot;&gt;Вопрос 51.&lt;/h4&gt;
&lt;p&gt;Какой класс сетей из перечисленных ниже имеет по умолчанию наибольшее количество хостов:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;А&lt;/li&gt;
  &lt;li&gt;B&lt;/li&gt;
  &lt;li&gt;C&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;section-254&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;1&lt;/p&gt;

&lt;h4 id=&quot;section-255&quot;&gt;Вопрос 52.&lt;/h4&gt;
&lt;p&gt;На linux маршрутизаторе пакеты маркируются с помощью iptables (-j MARK –set-mark XXX). 
Возможно ли на другой машине, находящейся в том же сегменте локальной сети, прочитать эту метку?&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;да, с помощью iptables .. -m mark –mark XXX&lt;/li&gt;
  &lt;li&gt;нет&lt;/li&gt;
  &lt;li&gt;да, если порт свитча, в который воткнута машина,
находится в режиме mirror&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;section-256&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;2&lt;/p&gt;

&lt;h4 id=&quot;section-257&quot;&gt;Вопрос 53.&lt;/h4&gt;
&lt;p&gt;Осуществляется передача данных по TCP через канал с latency в 1,5c и 15%-ной потерей пакетов. Достигнута максимальная пропускная способность этого канала. 
Вы можете:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Выключить Selective Acknolegments&lt;/li&gt;
  &lt;li&gt;Включить Selective Acknolegments&lt;/li&gt;
  &lt;li&gt;Увеличить объем памяти доступный стеку TCP&lt;/li&gt;
  &lt;li&gt;Уменьшить объем памяти доступный стеку TCP
Что из пречисленного поможет вам увеличить скорость передачи данных? Укажите все возможные варианты.&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;section-258&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;2&lt;/p&gt;

&lt;h4 id=&quot;section-259&quot;&gt;Вопрос 54.&lt;/h4&gt;
&lt;p&gt;В сессии bash Вы пишете команду:
export a=’myfile.txt’; echo ${}.
На что нужно заменить (используя matching prefix/suffix patterns в bash), чтобы в результате исполнения было выведено “txt” без кавычек?&lt;/p&gt;

&lt;h4 id=&quot;section-260&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;a#&lt;em&gt;. или a##&lt;/em&gt;.&lt;/p&gt;

&lt;h4 id=&quot;section-261&quot;&gt;Вопрос 55.&lt;/h4&gt;
&lt;p&gt;Будут ли кешироваться в страничном кеше (pagecahe) обращения к ramdisk (да/нет)?&lt;/p&gt;

&lt;h4 id=&quot;section-262&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;да&lt;/p&gt;

&lt;h4 id=&quot;section-263&quot;&gt;Вопрос 56.&lt;/h4&gt;
&lt;p&gt;Будут ли кешироваться в страничном кеше (pagecahe) обращения к /dev/shm( type: tmpfs) (да/нет)?&lt;/p&gt;

&lt;h4 id=&quot;section-264&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;да&lt;/p&gt;

&lt;h4 id=&quot;section-265&quot;&gt;Вопрос 57.&lt;/h4&gt;
&lt;p&gt;Клиент соединяется с сервером по протоколу https. При этом клиент авторизуется с помощью сертификата. 
У Вас есть доступ к сертификатам сервера и клиента (и только к ним). Можете ли Вы расшифровать подслушанный трафик (да/нет)?&lt;/p&gt;

&lt;h4 id=&quot;section-266&quot;&gt;Ответ:&lt;/h4&gt;
&lt;p&gt;нет&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;https://jivoi.github.io/2014/06/18/otviety-s-olimpiady-dlia-sistiemnykh-administratorov-ot-yandex/&quot;&gt;Ответы с олимпиады для системных администраторов от Yandex&lt;/a&gt; was originally published by EK at &lt;a href=&quot;https://jivoi.github.io&quot;&gt;EK&lt;/a&gt; on June 18, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Choose Life]]></title>
  <link rel="alternate" type="text/html" href="https://jivoi.github.io/2014/01/09/choose-life/" />
  <id>https://jivoi.github.io/2014/01/09/choose-life</id>
  <updated>2014-01-08 13:43:49 +0400T00:00:00-00:00</updated>
  <published>2014-01-09T00:00:00+04:00</published>
  
  <author>
    <name>EK</name>
    <uri>https://jivoi.github.io</uri>
    <email>ekoz@protonmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Найдено очень давно в сети, автор неизвестен.
Иногда стоит перечитывать.&lt;/p&gt;

&lt;h3 id=&quot;choose-life&quot;&gt;Choose life&lt;/h3&gt;

&lt;p&gt;Choose life.&lt;/p&gt;

&lt;p&gt;Choose a job.&lt;/p&gt;

&lt;p&gt;Choose a career.&lt;/p&gt;

&lt;p&gt;Choose a family.&lt;/p&gt;

&lt;p&gt;Choose a fucking big television.&lt;/p&gt;

&lt;p&gt;Choose washing  machines,  cars,  compact disc players and electrical tin openers.&lt;/p&gt;

&lt;p&gt;Choose good health, low cholesterol and dental insurance.&lt;/p&gt;

&lt;p&gt;Choose fixed interest mortgage repayments.&lt;/p&gt;

&lt;p&gt;Choose a starter home.&lt;/p&gt;

&lt;p&gt;Choose your friends.&lt;/p&gt;

&lt;p&gt;Choose leisurewear and matching luggage.&lt;/p&gt;

&lt;p&gt;Choose a three-piece suite on hire purchase in a range of fucking fabrics.&lt;/p&gt;

&lt;p&gt;Choose DIY and wondering who the fuck you are on a Sunday morning.&lt;/p&gt;

&lt;p&gt;Choose sitting  on that couch watching mind-numbing, spirit-crushing game shows, stuffing fucking junk food into your mouth.&lt;/p&gt;

&lt;p&gt;Choose rotting away at the end of it all, pishing your last in a miserable home,  nothing more than an embarrassment to the selfish, fucked up brats you spawned to replace you.&lt;/p&gt;

&lt;p&gt;Choose your future.&lt;/p&gt;

&lt;p&gt;Choose life.&lt;/p&gt;

&lt;p&gt;Задай себе вопрос, что для тебя сеть? Что и кому ты пытаешься доказать,
просиживая дни напролёт за компом, ковыряя исходники очередного ftpd?
Что и кому ты пытаешься доказать, порутав почередной сервер? Рано или поздно
все приходят к подобного рода вопросам. Чувствуешь, как жизнь проходит мимо?
Если нет, то ты весьма ограничен. Крутишься в своём микро-мире, мире
электронов и бодов, мире телефонов и факсов, вычислительных центров и
промышленных серверов под Sun.. ЗАЧЕМ? Лишь немногие действительно занимаются
этим для саморазвития. Не думал ли ты когда-нибудь, зачем люди постят в BQ
или устраивают километровые треды на форумах предаваясь размышлениям, о том
какое ядро лучше выбрать под linux на 4х процессорную систему? Какая блять
разница, зачем окружать себя выдуманными проблемами? Выбери жизнь.&lt;/p&gt;

&lt;p&gt;Какой твой типичный день? Подъём с утра, кофе, работа, вечером домой к компу.
Если повезёт - зальёшь пару пива с друзьями или куда-нибудь сходишь. А далее
тебя ждёт онлайн, хорошо если ты хотя бы что-то ломаешь, а не просто пиздишь
на очередном irc-канале, играя в маленького цифрового бога. Ты считаешь, что
жизнь гавно? Что всё вокруг безпонтово, не имеет смысла. Или ты чувствуешь
несправедливость, поэтому позволяешь себе ломать за WMZ или работать с
кредами? Да.. а что у тебя с работой? Скорее всего ты пашешь как лошадь
админом или программером, тщательно вписываешься в корпоративный этикет и
стараешься не вызывать недовольства у начальника. С утра до вечера. У тебя
остаётся только возможность попить пива после работы.. но это не так важно,
ведь ты на самом деле цифровой бог, просто об этом мало кто знает. Выбери
работу.&lt;/p&gt;

&lt;p&gt;Задай себе вопрос, ты доволен своей жизнью? Скорее всего нет. У тебя есть
мечта? Много денег, рут на pentagon.mil, дорогая машина, известность? Мда..
Скорее всего ты считаешь что у тебя тотально не хватает времени, потому что
ты вынужен тратить его туда-сюда на всякие выдуманные дела. Всё расписано на
неделю-две вперёд? Это то, о чём ты так давно мечтал? Это то, ради чего ты
жил?&lt;/p&gt;

&lt;p&gt;Рано или поздно приходится что-то менять в своей жизни. Люди на самом деле
очень боятся перемен. Потому что не успели они спрятаться от старых проблем,
как появляются новые. Люди привязываются к вещам, к деньгам, к работе, к
алкоголю, кофеиниу, никотину, к автомобилю и транспорту в целом, к ёбаной
сотовой связи, телевидению, интернету и электричеству. Система ставит на
рельсы, сойти с которых для большинства не просто.. На самом деле, большинство
людей даже не отадёт себе отчёта в том, что их жизнь катится по рельсам.&lt;/p&gt;

&lt;p&gt;Скорее всего ты читал (или смотрел фильм) “Fight Club”, “Trainspotting”,
“American Beauty”? Задело ли тебя это? Нет.. а может быть и да. Что ты
сделал, чтобы сойти с пути навязанному тебе системой? Что ты сделал, чтобы
жизнь стала разнообразнее? Что ты оставишь после себя? Занимаешься ли ты
каким-нибудь артом? Скорее всего ты подумал что это несомненно “круто” и
правильно, но не про тебя.&lt;/p&gt;

&lt;p&gt;Хорошо, поставлю вопрос прямо. ТЫ ГОТОВ ИЗМЕНИТЬ СВОЮ ЖИЗНЬ? Не когда-нибудь
потом, а прямо сейчас? Большинство людей ответит “нет” или “незнаю”, кто-то
вместо этого скажет “потом” что по сути одно и то же. Готов сменить ориентиры
в жизни? Заняться чем-нибудь действительно стоящим? Верни жизнь в свои руки.
Пойми, что ПО ДРУГОМУ - не значит плохо, не значит неправильно.&lt;/p&gt;

&lt;p&gt;Для того чтобы измениться не обязательно уволняться с работы, варить дома мыло
и собирать отряды мартышек-астронавтов. Все кроется в тебе, измени своё
отношение к вещам, от которых ты зависишь. Перестань париться по поводу того
сколько будет стоит тебе звонок кенту на мегафон с билайна, перестань думать о
вещах, хватит каждый раз пересчитывать деньги и думать сколько копеек ты мог
бы сэкономить. Забудь о том, кто сколько и чего тебе должен.&lt;/p&gt;

&lt;p&gt;Перестань зависеть от мобилы, телевизора, компа. Забей на газеты и бульварное
чтиво. Забей на религию, выборы, митинги и прочие лохотроны системы. Посмотри
прямо на свои проблемы, поставь перед собой цель. Как ты проводишь свободное
время? Отсыпаешься, бухаешь или всячески пытаешься развлечься? А что если
попробовать проводить время иначе? Ты скажешь а что же тогда делать? Остаётся
пустота.. Если ты понимаешь что твоя жизнь пуста, ты становишься на шаг ближе
к освобождению.&lt;/p&gt;

&lt;p&gt;Люди которые тебя окружают, которых ты считаешь друзьями, приятелями,
большинство из них удерживает тебя на месте. Большинству из них на тебя похуй.
Забей на одноразовых друзей, приятелей по интернету которые могут пиздить
ниочём целую вечность. Оставь в своей жизни только настоящих френдов. Если ты
считаешь, что у тебя весь контакт лист в 40 рыл состоит исключительно из
друзей то ты наивен. Перестань лгать. Перестань разговаривать ниочём со всеми
подряд. Почисть свой контакт лист, поудаляй с мобилы телефоны которые на самом
деле тебе не нужны. Так или иначе ты поймёшь что большинство людей вспоминают
о тебе, только когда им что-то от тебя надо. Ты больше чем твой банковский
счёт, номер медицинской страховки, запись в телефоне, номер в контакт-листе
или статус + ник + bnc на канале в ире. Ещё шаг вперёд.&lt;/p&gt;

&lt;p&gt;Убей в себе слабость. Убей привычки, от которых ты бы хотел избавиться но
тебе было лень.. Зависишь от сигарет, алкоголя или наркоты, обещаешь себе
обязательно завязать “как-нибдь потом”? Время пришло, совершенствуй себя.
Суть не в том, чтобы полность отгородиться от всего что “вредно” или плохо,
а в том чтобы не зависеть от этого. В конце концов, зло это лишь точка зрения.&lt;/p&gt;

&lt;p&gt;Открой для себя что-то новое, расширь границы. Мир “электронов и бодов,
факсов и телефонных сетей” конечно интересен, но со временем ты поймёшь что
это не так уж и важно. Пойми, что изменяться, двигаться вперёд, развиваться
это естественный процесс. И чем раньше ты это поймёшь, тем раньше перестанешь
зависеть от системы.&lt;/p&gt;

&lt;p&gt;Сцена?..
Это ничего не значило.. сначала было весело, а потом стало скучно..
и я ушёл&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;https://jivoi.github.io/2014/01/09/choose-life/&quot;&gt;Choose Life&lt;/a&gt; was originally published by EK at &lt;a href=&quot;https://jivoi.github.io&quot;&gt;EK&lt;/a&gt; on January 09, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Useful nginx configs]]></title>
  <link rel="alternate" type="text/html" href="https://jivoi.github.io/2014/01/08/nginx-configs/" />
  <id>https://jivoi.github.io/2014/01/08/nginx-configs</id>
  <updated>2014-01-08 13:43:49 +0400T00:00:00-00:00</updated>
  <published>2014-01-08T00:00:00+04:00</published>
  
  <author>
    <name>EK</name>
    <uri>https://jivoi.github.io</uri>
    <email>ekoz@protonmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Different configs for nginx.&lt;/p&gt;

&lt;section id=&quot;table-of-contents&quot; class=&quot;toc&quot;&gt;                                    
&lt;header&gt;                                                                        
&lt;h3&gt;Contents&lt;/h3&gt;                                                               
&lt;/header&gt;                                                                       
&lt;div id=&quot;drawer&quot;&gt;
&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#default-vhost-config&quot; id=&quot;markdown-toc-default-vhost-config&quot;&gt;Default vhost config&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#custom-502-error-page&quot; id=&quot;markdown-toc-custom-502-error-page&quot;&gt;Custom 502 error page&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#rewrite-somefilephp-to-somefiletxt&quot; id=&quot;markdown-toc-rewrite-somefilephp-to-somefiletxt&quot;&gt;Rewrite somefile.php to somefile.txt&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#rewrite-all-requests-from-abcmysitecomxyzphp-to-mysitecomabcindexphppxyz&quot; id=&quot;markdown-toc-rewrite-all-requests-from-abcmysitecomxyzphp-to-mysitecomabcindexphppxyz&quot;&gt;Rewrite all requests from abc.mysite.com/xyz.php to mysite.com/abc/index.php?p=xyz&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#permanent-redirect-from-domain-to-wwwdomain&quot; id=&quot;markdown-toc-permanent-redirect-from-domain-to-wwwdomain&quot;&gt;Permanent redirect from domain to www.domain&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#rewrite-request-from-imgsite-to-images&quot; id=&quot;markdown-toc-rewrite-request-from-imgsite-to-images&quot;&gt;Rewrite request from img/site to images&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#proxy-pass-all-request-for-one-location&quot; id=&quot;markdown-toc-proxy-pass-all-request-for-one-location&quot;&gt;Proxy pass all request for one location&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#proxy-pass-all-request-for-one-location-1&quot; id=&quot;markdown-toc-proxy-pass-all-request-for-one-location-1&quot;&gt;Proxy pass all request for one location&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#rewrite-domainru-domainru-to-domainnewdomainru-domainnewdomainru&quot; id=&quot;markdown-toc-rewrite-domainru-domainru-to-domainnewdomainru-domainnewdomainru&quot;&gt;Rewrite *.domain.ru domain.ru to *.domain.newdomain.ru domain.newdomain.ru&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#redirect-from-httpdomainoneru-to-httpdomaintworu&quot; id=&quot;markdown-toc-redirect-from-httpdomainoneru-to-httpdomaintworu&quot;&gt;Redirect from http://domainone.ru/ to http://domaintwo.ru&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#rewrite-whole-domain-to-other-domain&quot; id=&quot;markdown-toc-rewrite-whole-domain-to-other-domain&quot;&gt;Rewrite whole domain to other domain&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#for-404-error-redirect-to--of-vhost&quot; id=&quot;markdown-toc-for-404-error-redirect-to--of-vhost&quot;&gt;For 404 error redirect to / of vhost&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#turn-on-gzip-compress&quot; id=&quot;markdown-toc-turn-on-gzip-compress&quot;&gt;Turn on gzip compress&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#rewrite-all-request-to-not-exists-files-to-indexphp&quot; id=&quot;markdown-toc-rewrite-all-request-to-not-exists-files-to-indexphp&quot;&gt;Rewrite all request to not exists files to index.php&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#security-admin-location&quot; id=&quot;markdown-toc-security-admin-location&quot;&gt;Security /admin location&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#rewrite-location-for-special-user-agent&quot; id=&quot;markdown-toc-rewrite-location-for-special-user-agent&quot;&gt;Rewrite location for special User-Agent&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#simple-block-of-sql-injection&quot; id=&quot;markdown-toc-simple-block-of-sql-injection&quot;&gt;Simple block of SQL Injection&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#rewrite-location-name-to-get-args&quot; id=&quot;markdown-toc-rewrite-location-name-to-get-args&quot;&gt;Rewrite location name to get args&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#change-robotstxt-for-different-domain&quot; id=&quot;markdown-toc-change-robotstxt-for-different-domain&quot;&gt;Change robots.txt for different domain&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#creates-variables-suitable-for-ab-testing-also-known-as-split-testing&quot; id=&quot;markdown-toc-creates-variables-suitable-for-ab-testing-also-known-as-split-testing&quot;&gt;Creates variables suitable for A/B testing, also known as split testing&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#no-cache-for-502-error&quot; id=&quot;markdown-toc-no-cache-for-502-error&quot;&gt;No cache for 502 error&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#create-nearly-equal-redirect-from-domainnet-to-3-others-onedomainnet-twodomainnet-threedomainnet&quot; id=&quot;markdown-toc-create-nearly-equal-redirect-from-domainnet-to-3-others-onedomainnet-twodomainnet-threedomainnet&quot;&gt;Create nearly equal redirect from domain.net to 3 others: one.domain.net, two.domain.net, three.domain.net&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#custom-403-error-page&quot; id=&quot;markdown-toc-custom-403-error-page&quot;&gt;Custom 403 error page&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#rewrite-requests-for-special-remote-address&quot; id=&quot;markdown-toc-rewrite-requests-for-special-remote-address&quot;&gt;Rewrite requests for special remote address&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#rewrite-sub-domains-to-new-domain&quot; id=&quot;markdown-toc-rewrite-sub-domains-to-new-domain&quot;&gt;Rewrite sub domains to new domain&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#new-format-for-301-redirect&quot; id=&quot;markdown-toc-new-format-for-301-redirect&quot;&gt;New format for 301 redirect&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#location-for-static-files&quot; id=&quot;markdown-toc-location-for-static-files&quot;&gt;Location for static files&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

  &lt;/div&gt;                                                                          
&lt;/section&gt;
&lt;!-- /#table-of-contents --&gt;

&lt;h3 id=&quot;default-vhost-config&quot;&gt;Default vhost config&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;server_name&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;access_log&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/var/log/nginx/access_log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;error_log&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/var/log/nginx/nginx_error_log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
                
    &lt;span class=&quot;kn&quot;&gt;allow&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;MYIP/32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#dev pc&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;satisfy&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;auth_basic&lt;/span&gt;  &lt;span class=&quot;s&quot;&gt;&amp;quot;restricted&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;area&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;auth_basic_user_file&lt;/span&gt;  &lt;span class=&quot;s&quot;&gt;/var/www/.htpasswd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^.+\.(jpe?g|gif|css|js|ico|png|bmp|xml|swf|ico|flv|exe|zip|rar|htm|html)&lt;/span&gt;$ &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/var/www/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
         
    &lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;proxy_pass&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http://127.0.0.1:80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/.svn/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;deny&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;custom-502-error-page&quot;&gt;Custom 502 error page&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;error_page&lt;/span&gt;   &lt;span class=&quot;mi&quot;&gt;502&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/empty.html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;proxy_intercept_errors&lt;/span&gt;  &lt;span class=&quot;no&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/empty.html&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;root&lt;/span&gt;    &lt;span class=&quot;s&quot;&gt;/var/www/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;rewrite-somefilephp-to-somefiletxt&quot;&gt;Rewrite somefile.php to somefile.txt&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/somefile.php&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.*&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/somefile.txt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;rewrite-all-requests-from-abcmysitecomxyzphp-to-mysitecomabcindexphppxyz&quot;&gt;Rewrite all requests from abc.mysite.com/xyz.php to mysite.com/abc/index.php?p=xyz&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;server{&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;server_name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;^(.*)\.mysite\.com$;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$subdom&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;\/(.*)\.php&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$script&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http://mysite.com/&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$subdom/index.php?p=$script&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;permanent-redirect-from-domain-to-wwwdomain&quot;&gt;Permanent redirect from domain to www.domain&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-apache&quot; data-lang=&quot;apache&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;VirtualHost&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;*:80&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;ServerName&lt;/span&gt;              example.com:80
  &lt;span class=&quot;nb&quot;&gt;RedirectMatch&lt;/span&gt; permanent (.*) http://www.example.com$1
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/VirtualHost&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;server_name&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;example.com&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^(.*)&lt;/span&gt;$ &lt;span class=&quot;s&quot;&gt;http://www.example.com&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;permanent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;or&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;server_name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;^(?!&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;www\.)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http://www.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$host$request_uri&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;permanent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;or&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$host&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;www\.(.*))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$host_without_www&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^(.*)&lt;/span&gt;$ &lt;span class=&quot;s&quot;&gt;http://&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$host_without_www$1&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;permanent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;rewrite-request-from-imgsite-to-images&quot;&gt;Rewrite request from img/site to images&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/img/site&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(!-f&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$request_filename&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; 
		&lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^/img/site/(.*)&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/images/&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;proxy-pass-all-request-for-one-location&quot;&gt;Proxy pass all request for one location&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/one/two/(.*)/(.*)$&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/one/two/(.*)/(.*)&lt;/span&gt;$ &lt;span class=&quot;s&quot;&gt;/two/&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1/$2&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Host&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;two.domain.net&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;proxy_pass&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http://two.domain.net&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;proxy-pass-all-request-for-one-location-1&quot;&gt;Proxy pass all request for one location&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/html/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Host&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;html.example.ru&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^/html/js/id/([0-9]+)&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/js/id/&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1.html&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;proxy_pass&lt;/span&gt;  &lt;span class=&quot;s&quot;&gt;http://html.example.ru&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;rewrite-domainru-domainru-to-domainnewdomainru-domainnewdomainru&quot;&gt;Rewrite *.domain.ru domain.ru to *.domain.newdomain.ru domain.newdomain.ru&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$newdomain_host&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;domain.newdomain.ru&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$host&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;(.*).domain.ru)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    	&lt;span class=&quot;kn&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$newdomain_host&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1.domain.newdomain.ru&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/(.*)&lt;/span&gt;$  &lt;span class=&quot;s&quot;&gt;http://&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$newdomain_host/$1&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;permanent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;redirect-from-httpdomainoneru-to-httpdomaintworu&quot;&gt;Redirect from http://domainone.ru/ to http://domaintwo.ru&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;server_name&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;domainone.ru&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;access_log&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;off&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^(.*)&lt;/span&gt;$ &lt;span class=&quot;s&quot;&gt;http://domaintwo.ru/&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;permanent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;rewrite-whole-domain-to-other-domain&quot;&gt;Rewrite whole domain to other domain&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;server_name&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;access_log&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;off&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^(.*)&lt;/span&gt;$ &lt;span class=&quot;s&quot;&gt;http://newdomain.net/&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;permanent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;for-404-error-redirect-to--of-vhost&quot;&gt;For 404 error redirect to / of vhost&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;proxy_intercept_errors&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;error_page&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;404&lt;/span&gt;  &lt;span class=&quot;s&quot;&gt;http://newdomain.net/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;turn-on-gzip-compress&quot;&gt;Turn on gzip compress&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;gzip&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;gzip_min_length&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;gzip_buffers&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;gzip_types&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;text/plain&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;application/x-javascript&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;text/css&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;rewrite-all-request-to-not-exists-files-to-indexphp&quot;&gt;Rewrite all request to not exists files to index.php&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(!-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$request_filename&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^.*&lt;/span&gt;$ &lt;span class=&quot;s&quot;&gt;/index.php&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;last&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;security-admin-location&quot;&gt;Security /admin location&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^~&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/admin&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(!-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$request_filename&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    	&lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^(.*)&lt;/span&gt;$ &lt;span class=&quot;s&quot;&gt;/index.php&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;proxy_pass&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http://127.0.0.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;allow&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;192&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;.168.56.1/24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;deny&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/var/www&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;rewrite-location-for-special-user-agent&quot;&gt;Rewrite location for special User-Agent&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$http_user_agent&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Mozilla/5.0&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(iPhone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;CPU&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Mac&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;OS&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;en)&amp;quot;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/index.php&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;check&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;wget&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;--no-cache&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;--user-agent=&amp;quot;Mozilla/5.0&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(iPhone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;CPU&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Mac&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;OS&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;en)&amp;quot;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http://domain.net&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/dev/null&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;simple-block-of-sql-injection&quot;&gt;Simple block of SQL Injection&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$request_uri&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;union|concat&amp;quot;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;kn&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;403&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;proxy_pass&lt;/span&gt;      &lt;span class=&quot;s&quot;&gt;http://127.0.0.1/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;rewrite-location-name-to-get-args&quot;&gt;Rewrite location name to get args&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;e.x&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/en/bla.php&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/bla.php?lang=en,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/en/bla.php?a=1&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/bla.php?a=1&amp;amp;lang=en&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^/en&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$args&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$args&amp;amp;lang=en&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^/en/(.*)&lt;/span&gt;$ &lt;span class=&quot;s&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;change-robotstxt-for-different-domain&quot;&gt;Change robots.txt for different domain&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/robots.txt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/var/www&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$host&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;domain.net&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^/robots.txt&lt;/span&gt;$ &lt;span class=&quot;s&quot;&gt;/robots_domain.txt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/robots_domain.txt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/var/www2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;creates-variables-suitable-for-ab-testing-also-known-as-split-testing&quot;&gt;Creates variables suitable for A/B testing, also known as split testing&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;split_clients&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$cookie_ruid&amp;quot;&lt;/span&gt;  &lt;span class=&quot;nv&quot;&gt;$sharding&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;kn&quot;&gt;50%&lt;/span&gt;                &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
				&lt;span class=&quot;kn&quot;&gt;50%&lt;/span&gt;                &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$sharding&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;1&amp;#39;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;proxy_pass&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http://one.domain.ru&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$sharding&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;2&amp;#39;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;proxy_pass&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http://two.domain.ru&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;no-cache-for-502-error&quot;&gt;No cache for 502 error&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;error_page&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;502&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@502&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;@502&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;add_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Pragma&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;no-cache&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;expires&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;off&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;add_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Cache-Control&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;no-store,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;no-cache,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;must-revalidate,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;post-check=0,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;pre-check=0&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;charset&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;utf-8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/var/www/err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.*&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/index.html&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;create-nearly-equal-redirect-from-domainnet-to-3-others-onedomainnet-twodomainnet-threedomainnet&quot;&gt;Create nearly equal redirect from domain.net to 3 others: one.domain.net, two.domain.net, three.domain.net&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;server_name&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;domain.net&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/var/www&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;random_index&lt;/span&gt;  &lt;span class=&quot;no&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;Create&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;files&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/var/www&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index1.html&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index2.html&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index3.html&lt;/span&gt; 

&lt;span class=&quot;s&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/var/www/index1.html&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;&amp;lt;!DOCTYPE&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;HTML&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;PUBLIC&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;-//W3C//DTD&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;HTML&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;.0&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Transitional//EN&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http-equiv=&amp;quot;REFRESH&amp;quot;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;content=&amp;quot;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;url=http://one.domain.net&amp;quot;&amp;lt;/HEAD&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;&amp;lt;/HTML&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;custom-403-error-page&quot;&gt;Custom 403 error page&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;error_page&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;403&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/403.html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/403.html&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;allow&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/var/www/err/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;rewrite-requests-for-special-remote-address&quot;&gt;Rewrite requests for special remote address&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt;  &lt;span class=&quot;s&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$remote_addr&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;&amp;quot;8.8.8.8&amp;quot;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt;  &lt;span class=&quot;s&quot;&gt;^(.*)&lt;/span&gt;$  &lt;span class=&quot;s&quot;&gt;/index2.html&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;proxy_pass&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http://backend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;rewrite-sub-domains-to-new-domain&quot;&gt;Rewrite sub domains to new domain&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;server_name&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;domain.ru&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;*.domain.ru&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;#rewrite all subdomains on $1.b.dot.ru&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$host&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;^([a-z0-9-\.]+)\.domain.ru&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$&amp;quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$subd&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^(.*)&lt;/span&gt;$ &lt;span class=&quot;s&quot;&gt;http://&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$subd.b.dot.ru$1&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;permanent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;#rewrite domain.ru in b.dot.ru&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$host&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;^domain.ru&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$&amp;quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^(.*)&lt;/span&gt;$ &lt;span class=&quot;s&quot;&gt;http://b.dot.ru&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;permanent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;new-format-for-301-redirect&quot;&gt;New format for 301 redirect&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;Old&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;format:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^(.*)&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;https://www.blabla.ru&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;permanent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;New&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;format:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;301&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;https://www.blabla.ru&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$request_uri&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;location-for-static-files&quot;&gt;Location for static files&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^.+\.(jpe?g|gif|css|js|ico|png|bmp|xml|swf|ico|flv|exe|zip|rar|htm|html)&lt;/span&gt;$ &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/var/www/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


  &lt;p&gt;&lt;a href=&quot;https://jivoi.github.io/2014/01/08/nginx-configs/&quot;&gt;Useful nginx configs&lt;/a&gt; was originally published by EK at &lt;a href=&quot;https://jivoi.github.io&quot;&gt;EK&lt;/a&gt; on January 08, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[101 IT Security Interview Questions]]></title>
  <link rel="alternate" type="text/html" href="https://jivoi.github.io/2014/01/07/101-IT-security-interview-questions/" />
  <id>https://jivoi.github.io/2014/01/07/101-IT-security-interview-questions</id>
  <updated>2014-01-07 13:43:49 +0400T00:00:00-00:00</updated>
  <published>2014-01-07T00:00:00+04:00</published>
  
  <author>
    <name>EK</name>
    <uri>https://jivoi.github.io</uri>
    <email>ekoz@protonmail.com</email>
  </author>
  <content type="html">&lt;p&gt;A huge list of it security questions with my answers =)&lt;/p&gt;

&lt;h2 id=&quot;basic-concepts&quot;&gt;Basic Concepts:&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;What is information security and how is it achieved?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What are the core principles of information security?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is non-repudiation (as it applies to IT security)?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is the relationship between information security and data availability?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is a security policy and why do we need one?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is the difference between logical and physical security? Can you give an example of both?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Is there an acceptable level of risk?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;How do you measure risk? Can you give an example of a specific metric that measures information security risk?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Can you give me an example of risk trade-offs (e.g. risk vs cost)?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What are the most common types of attack that threaten enterprise data security?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is the difference between a threat and a vulnerability?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Can you give me an example of common security vulnerabilities?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Are you familiar with any security management frameworks such as ISO/IEC 27002?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Can you briefly discuss the role of information security in each phase of the software development lifecycle?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Can you describe the role of security operations in the enterprise?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is incident management?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is business continuity management? How does it relate to security?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is a security control?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What are the different types of security control?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Can you describe the information lifecycle? How do you ensure information security at each phase?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is Information Security Governance?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What are your professional values? Why are professional ethics important in the information security field?&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;security-audits-and-testing&quot;&gt;Security Audits and Testing:&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;What is an IT security audit?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;How do you test information security?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is the difference between black box and white box penetration testing?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is a vulnerability scan?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is captured in a security assessment plan (security test plan)?&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;access-control&quot;&gt;Access Control:&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;What is the difference between authentication and authorization?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What types of information can be used for authentication?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is role-based access control?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is meant by the term “least privilege”?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is two-factor authentication? Does it require special hardware?&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;security-architecture&quot;&gt;Security Architecture:&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Why are open standards important to security solutions?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;How do you balance demands from different stakeholders who have conflicting requirements?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is layered security architecture? Is it a good approach? Why?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Have you designed security measures that span overlapping information domains? Can you give me a brief overview of the solution?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;How do you ensure that a design anticipates human error?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;How do you ensure that a design achieves regulatory compliance?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is capability-based security? Have you incorporated this pattern into your designs? How?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Can you give me a few examples of security architecture requirements?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Who typically owns security architecture requirements and what stakeholders contribute?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What special security challenges does SOA present?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What security challenges do unified communications present?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Do you take a different approach to security architecture for a COTS vs a custom solution?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Have you architected a security solution that involved SaaS components? What challenges did you face?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Have you worked on a project in which stakeholders choose to accept identified security risks that worried you? How did you handle the situation?&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;network&quot;&gt;Network:&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;What is a firewall?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Besides firewalls, what other devices are used to enforce network boundaries?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is the role of network boundaries in information security?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What does a intrusion detection system do? How does it do it?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is a honeypot? What type of attack does it defend against?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What technologies and approaches are used to secure information and services deployed on cloud computing infrastructure?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What information security challenges are faced in a cloud computing environment?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;How does packet filtering work?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Can you give me an overview of IP multicast?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Can you explain the difference between a packet filtering firewall and a application layer firewall?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What are the layers of the OSI model?&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;security-leadership&quot;&gt;Security Leadership:&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;How do you ensure that solution architects develop secure solutions?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What training do solution architects need to have in regards to IT security? What about developers?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;How do you sell the value of IT security initiatives to executive management?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;How do you ensure that a solution continues to be resilient in the face of evolving threats?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;How do you avoid implementing overly complex or unnecessary security mechanisms?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Have you been involved with the governance of information security? What was your role? What did you accomplish?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Can you describe the laws and regulations that have a significant impact to information security at our organization?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is the relationship between information security and privacy laws?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is security level management?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;How do you ensure that security management is transparent and measurable?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Can you outline the typical responsibilities of a Chief Security Officer (CSO)?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Can you give me an example of some emerging trends in information security that youre keeping an eye on?&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;experience&quot;&gt;Experience:&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Have you developed an incident response plan?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Have you been involved in supporting incident investigations? What was your role? What was the outcome?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Have you performed a risk analysis and evaluation? How did you go about it? What stakeholders did you involve?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Have you performed a threat assessment? What factors did you consider?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Have you performed a vulnerability assessment? What types of vulnerabilities are most difficult to identify?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;In the context of a vulnerability assessment, how do you calculate the probability that a vulnerability will be exploited?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Can you give me an example of a time you identified and implemented controls to mitigate a risk? How did you evaluate the controls?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;How do you stay up-to-date with technology? For example, how do you keep up with new information security threats?&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;cryptography&quot;&gt;Cryptography:&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;How does the SSL Protocol work?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is the difference between symmetric-key cryptography and public-key cryptography?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Can you give me an overview of how public-key cryptography works?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is the difference between the encryption standards AES and DES?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is the role of digital certificates in encryption?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What encryption mechanisms would you recommend to an organization that wants to encrypt its outgoing emails?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Can you give me an overview of IPsec? What is its purpose?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Does IPsec replace the need for SSL?&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;security-incident-management&quot;&gt;Security Incident Management:&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;What are the components of ITIL incident management?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;If our organization experienced a major security incident, what steps should we take to manage the incident?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Can you describe the responsibilities of an incident manager?&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;threats&quot;&gt;Threats:&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;In your opinion, what are the top five information security threats facing an organization such as ours?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is a man-in-the-middle attack?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Can you give me an example of cross-site scripting?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is SQL injection? How is it prevented?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is a buffer overflow?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is clickjacking?&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;vulnerabilities&quot;&gt;Vulnerabilities:&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;What is a insecure direct object reference? Why is it a problem?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Why is it important to validate redirects and forwards?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What are some common security vulnerabilities at the information storage level?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What are some common security vulnerabilities at the transport level?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;How can improper error handling expose security vulnerabilities? How?&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;physical-security-integration&quot;&gt;Physical Security Integration:&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Can you give me a few examples of physical security integration?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;What is social engineering? How common is it?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;How would you secure an office environment? What about a data center?&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;a href=&quot;http://careers.simplicable.com/careers/new/101-IT-security-interview-questions&quot;&gt;Questions Source&lt;/a&gt;&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;https://jivoi.github.io/2014/01/07/101-IT-security-interview-questions/&quot;&gt;101 IT Security Interview Questions&lt;/a&gt; was originally published by EK at &lt;a href=&quot;https://jivoi.github.io&quot;&gt;EK&lt;/a&gt; on January 07, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Install Hubot on Ubuntu]]></title>
  <link rel="alternate" type="text/html" href="https://jivoi.github.io/2014/01/06/install-hubot/" />
  <id>https://jivoi.github.io/2014/01/06/install-hubot</id>
  <updated>2014-01-06 13:43:49 +0400T00:00:00-00:00</updated>
  <published>2014-01-06T00:00:00+04:00</published>
  
  <author>
    <name>EK</name>
    <uri>https://jivoi.github.io</uri>
    <email>ekoz@protonmail.com</email>
  </author>
  <content type="html">&lt;p&gt;How to install Hubot to Ubuntu linux.&lt;/p&gt;

&lt;p&gt;What is Hubot: &lt;a href=&quot;https://hubot.github.com/&quot;&gt;Awesome bot for everything&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;add-new-user-and-install-nvm&quot;&gt;Add new user and install NVM&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;useradd -m hubot
su - hubot
wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.24.1/install.sh &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; bash
nvm install 0.10&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;install-hubot&quot;&gt;Install HUBOT&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;npm install  generator-hubot yo coffee-script hubot hubot-xmpp
yo hubot --defaults&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;connect-hubot-to-xmpp-room&quot;&gt;Connect Hubot to XMPP Room&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;cat &lt;span class=&quot;s&quot;&gt;&amp;lt;&amp;lt;EOF &amp;gt; /etc/init/hubot.conf&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;# hubot - xmpp bot&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;description &amp;quot;Hubot XMPP bot&amp;quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;env HUBOT_LOG_LEVEL=&amp;quot;debug&amp;quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;env HUBOT_XMPP_HOST=&amp;quot;xmppserver.com&amp;quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;env HUBOT_XMPP_USERNAME=&amp;quot;XMPPACC&amp;quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;env HUBOT_XMPP_PASSWORD=&amp;quot;XMPPPASS&amp;quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;env HUBOT_XMPP_ROOMS=&amp;#39;XMPPROOM@conference.xmppserver.com:roompassword&amp;#39;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;env HUBOT_XMPP_PORT=&amp;quot;5222&amp;quot;&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;start on filesystem or runlevel [2345]&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;stop on runlevel [!2345]&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;env HUBOT_DIR=&amp;quot;/home/hubot/&amp;quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;env HUBOT=&amp;quot;bin/hubot&amp;quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;env HUBOT_ARGS=&amp;quot;-a xmpp&amp;quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;env HUBOT_USER=&amp;#39;hubot&amp;#39; # system account&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;env HUBOT_NAME=&amp;#39;hubot&amp;#39; # what hubot listens to&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;respawn&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;respawn limit 5 60&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;exec start-stop-daemon --start --chuid ${HUBOT_USER} --chdir ${HUBOT_DIR} --exec ${HUBOT_DIR}${HUBOT} -- $HUBOT_ARGS &amp;gt;&amp;gt; /home/hubot/hubot.log 2&amp;gt;&amp;amp;1&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;EOF&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;configure-hubot-scripts&quot;&gt;Configure Hubot scripts&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;cat /home/hubot/hubot-scripts.json
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;shipit.coffee&amp;quot;&lt;/span&gt;, &lt;span class=&quot;s2&quot;&gt;&amp;quot;sudo.coffee&amp;quot;&lt;/span&gt;, &lt;span class=&quot;s2&quot;&gt;&amp;quot;9gag.coffee&amp;quot;&lt;/span&gt;, &lt;span class=&quot;s2&quot;&gt;&amp;quot;abstract.coffee&amp;quot;&lt;/span&gt;, &lt;span class=&quot;s2&quot;&gt;&amp;quot;commandlinefu.coffee&amp;quot;&lt;/span&gt;, &lt;span class=&quot;s2&quot;&gt;&amp;quot;xkcd.coffee&amp;quot;&lt;/span&gt;, &lt;span class=&quot;s2&quot;&gt;&amp;quot;yoda-quotes.coffee&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;More scripts: &lt;a href=&quot;https://github.com/hubot-scripts&quot;&gt;LINK&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;start-hubot&quot;&gt;Start Hubot&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;start hubot
tail -f /home/hubot/hubot.log&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


  &lt;p&gt;&lt;a href=&quot;https://jivoi.github.io/2014/01/06/install-hubot/&quot;&gt;Install Hubot on Ubuntu&lt;/a&gt; was originally published by EK at &lt;a href=&quot;https://jivoi.github.io&quot;&gt;EK&lt;/a&gt; on January 06, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Ответы для Yandex - Вакансия 'Системный администратор Unix']]></title>
  <link rel="alternate" type="text/html" href="https://jivoi.github.io/2014/01/05/answers-for-yandex/" />
  <id>https://jivoi.github.io/2014/01/05/answers-for-yandex</id>
  <updated>2014-01-05 13:43:49 +0400T00:00:00-00:00</updated>
  <published>2014-01-05T00:00:00+04:00</published>
  
  <author>
    <name>EK</name>
    <uri>https://jivoi.github.io</uri>
    <email>ekoz@protonmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Ответы для Yandex.ru. Это набор вопросов которые доступны на сайте yandex.ru в разделе Вакансии.&lt;/p&gt;

&lt;p&gt;Ссылка на вакансию: &lt;a href=&quot;https://yandex.ru/jobs/vacancies/maintenance/adv_technology_admin/&quot;&gt;Системный администратор Unix&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;Вопрос 2:&lt;/h3&gt;
&lt;p&gt;Вам нужно проапгрейдить ядро и операционную систему на ста одинаково настроенных серверах.
Как вы будете решать эту задачу?&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;Ответ:&lt;/h3&gt;
&lt;p&gt;Все зависит от конкретной ОС. В RHEL\CentOS\Fedora через yum\rpm(если есть уже собранное ядро в rpm пакете). Для Ubuntu\Debian - apt-get install или dpkg -i. Если стоит вопрос как выполнить эту команду удаленно на 100х серверах, то тут очень мгого факторов которые могут на это повлиять. Где-то есть система управления конфигурациями типа Chef\Puppet\cfengine или что-то своем самописное. В самом простом случаем можно в цикле выполнить на 100х серверах команду обновления.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; server in &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;cat server.lst&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; ssh -t login@&lt;span class=&quot;nv&quot;&gt;$server&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sudo yum install kernel&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;section-2&quot;&gt;Вопрос 3:&lt;/h3&gt;
&lt;p&gt;На сервере под управлением Linux собран программный RAID5 на десяти SCSI-дисках. Один диск в этом массиве помечен как faulty.
Как узнать Host, Channel, ID и LUN этого диска?&lt;/p&gt;

&lt;h3 id=&quot;section-3&quot;&gt;Ответ:&lt;/h3&gt;
&lt;p&gt;Всю основную информацию про softraid в Linux можно узнать выполнив команду cat /proc/mdstat
Больше информации покажет команда mdadm –detail /dev/md0.
Чтобы узнать Host, Channel, ID и LUN дисков установленных в сервере выполняем cat /proc/scsi/scsi
Там представлена информация вида Host: scsi0 Channel: 00 Id: 01 Lun: 00&lt;/p&gt;

&lt;h3 id=&quot;section-4&quot;&gt;Вопрос 4:&lt;/h3&gt;
&lt;p&gt;Есть сервер с Linux, на котором 16 ГБ RAM и 4 ГБ swap.
Что нужно сделать, чтобы запущенные на сервере программы не могли получить суммарно больше 9 ГБ памяти (без изменения объема доступной ядру памяти)?&lt;/p&gt;

&lt;h3 id=&quot;section-5&quot;&gt;Ответ:&lt;/h3&gt;
&lt;p&gt;Можно сделать через настройку системных лимитов. 
Прописав в /etc/security/limits.conf&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;* hard as 9000000000&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Второй вариант установка лимитов через linux cgroups
создаем группу с лимитами в /etc/cgconfig.conf
group memlimit {
    memory {
        memory.limit_in_bytes = 9000000000;(Задает максимальный размер памяти и пространства подкачки)
    }
}&lt;/p&gt;

&lt;p&gt;Добавляем правило в /etc/cgrules.conf:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;newuser   memory   memlimit&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Это позволить ограничить все процессы по памяти для юзера - newuser&lt;/p&gt;

&lt;h3 id=&quot;section-6&quot;&gt;Вопрос 5:&lt;/h3&gt;
&lt;p&gt;Имеется веб-сервер с очень маленьким временем ответа на запросы. Однако пользователи из некоторых сетей, например, ADSL или домашних, жалуются, что долго загружаются страницы с этого сервера, а иногда загрузка вообще «замирает». Ping при этом без потерь и больших задержек, с других веб-узлов страницы загружаются хорошо.
Почему такое может происходить?&lt;/p&gt;

&lt;h3 id=&quot;section-7&quot;&gt;Ответ:&lt;/h3&gt;
&lt;p&gt;Причина тут скорей всего гдето посередине между конечным пользователем и сервером.Если есть прокси-сервер дома или в офисе то скорей всего проблема с ним, с его настройками\производительностью. Может быть проблема с софтом на компьютере пользователя - программные фильтры\фаерволлы\антивирусы и тд&lt;/p&gt;

&lt;h3 id=&quot;section-8&quot;&gt;Вопрос 6:&lt;/h3&gt;
&lt;p&gt;Как будет выглядеть кусок конфигурационного файла Apache, который будет запрещать доступ к каталогу /var/www/restricted для клиентов, использующих браузер Browser всех версий, кроме версии 3.14?
User-Agent для Browser выглядит как “Browser v$VERSION”.&lt;/p&gt;

&lt;h3 id=&quot;section-9&quot;&gt;Ответ:&lt;/h3&gt;
&lt;p&gt;Прописываем в конфиг Apache&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&amp;lt;Directory /var/www/restricted&amp;gt;
SetEnvIfNoCase User-Agent &lt;span class=&quot;s2&quot;&gt;&amp;quot;^Browser v3.14&amp;quot;&lt;/span&gt; ok
Order Allow,Deny
Allow from &lt;span class=&quot;nv&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;ok
Deny from all
ErrorDocument &lt;span class=&quot;m&quot;&gt;403&lt;/span&gt; /noindex.html
&amp;lt;/Directory&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;section-10&quot;&gt;Вопрос 7:&lt;/h3&gt;
&lt;p&gt;Вы работаете с СУБД MySQL. У вас настроена репликация с одного сервера на другой. Мониторинг показывает, что репликация не работает.
Как вы будете чинить неработающую репликацию (мастер-база работает 24х7х365)?&lt;/p&gt;

&lt;h3 id=&quot;section-11&quot;&gt;Ответ:&lt;/h3&gt;
&lt;p&gt;Для правильных действий, нужно больше информации, но я приведу примеры из личного опыта. 
Самое просто что может быть это в настройках mysql в /etc/my.cnf прописано skip-slave-start и слэйв сервер был перезагружен, чинится просто зайти в mysql и выполнить slave start
Следующая из распостранненых это ошибка типа   Error ‘Duplicate entry ‘123’ for key 1’ on query.. это значит что на слэйвей в базе уже есть такие данные, скорей всего это ошибка кода. Чинится это в самом простом случае пропуском данной ошибки SET GLOBAL SQL_SLAVE_SKIP_COUNTER=1; START SLAVE; ну или полным востановленим рэплики из последнего бэкапа с мастера. Сделать это можно так же несколькими способами, если есть бэкап нужно развернуть его и выставить значения для бинлога
change master to master_log_pos=4,master_log_file=’mysql-bin.000666’;&lt;/p&gt;

&lt;h3 id=&quot;section-12&quot;&gt;Вопрос 8:&lt;/h3&gt;
&lt;p&gt;Как можно посмотреть содержимое ip-пакетов, приходящих на хост test.yandex&lt;/p&gt;

&lt;h3 id=&quot;section-13&quot;&gt;Ответ:&lt;/h3&gt;
&lt;p&gt;Самое просто использовать tcpdump с выводом в STDOUT или с записью в файл и с последующим анализом&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;tcpdump -X host test.yandex
tcpdump -w /tmp/test.yandex.cap host test.yandex
tcpdump -vvAr /tmp/test.yandex.cap - читаем содержимое дампфайла.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Есть еще другие способы.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ngrep host test.yandex
tshark host test.yandex &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;утилита tshark входит в пакет wireshark&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


  &lt;p&gt;&lt;a href=&quot;https://jivoi.github.io/2014/01/05/answers-for-yandex/&quot;&gt;Ответы для Yandex - Вакансия 'Системный администратор Unix'&lt;/a&gt; was originally published by EK at &lt;a href=&quot;https://jivoi.github.io&quot;&gt;EK&lt;/a&gt; on January 05, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Ответы для Mail.ru - Вакансия 'Системный администратор']]></title>
  <link rel="alternate" type="text/html" href="https://jivoi.github.io/2014/01/04/answers-for-mailru/" />
  <id>https://jivoi.github.io/2014/01/04/answers-for-mailru</id>
  <updated>2014-01-04 13:43:49 +0400T00:00:00-00:00</updated>
  <published>2014-01-04T00:00:00+04:00</published>
  
  <author>
    <name>EK</name>
    <uri>https://jivoi.github.io</uri>
    <email>ekoz@protonmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Ответы для Mail.ru. Это набор вопросов которые присылают HR на вакансию “Системный администратор”.&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;Вопрос 1:&lt;/h3&gt;
&lt;p&gt;Что такое load average в юникс системах? (Ответ требует конкретной формулировки.)&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;Ответ:&lt;/h3&gt;
&lt;p&gt;Значение load average показывает кол-во процессов находящихся в состояние готовности, и ждущие пока процессор освободится для их выполнения. Более подробно тут:qhttp://knp84.livejournal.com/4835.html&lt;/p&gt;

&lt;h3 id=&quot;section-2&quot;&gt;Вопрос 2:&lt;/h3&gt;
&lt;p&gt;Что означает параметр MaxRequestsPerChild и в каких случаях (для чего) он применяется? (Ответ требует конкретной формулировки  + внятного объяснения для чего применяется.)&lt;/p&gt;

&lt;h3 id=&quot;section-3&quot;&gt;Ответ:&lt;/h3&gt;
&lt;p&gt;MaxRequestsPerChild это значение из конфигурации Apache. Она указывает сколько запросов может обработать дочерний процесс апача перед тем как он будет завершен.&lt;/p&gt;

&lt;h3 id=&quot;section-4&quot;&gt;Вопрос 3:&lt;/h3&gt;
&lt;p&gt;На сервере заканчивается место в разделе с логами. Какие процессы пишут логи неизвестно, ротейт логов не настроен. Проблему надо разрешить, сохранив сами логи.&lt;/p&gt;

&lt;h3 id=&quot;section-5&quot;&gt;Ответ:&lt;/h3&gt;
&lt;p&gt;Используя команду ls -la посмотреть значение последней модификации файлов, найти самые старые,переместить\сжать их куданить где есть место, так же можно использовать команду find c ключами -mmin\mtime и еще один способо используя команду lsof узнать какие файловые дискрипторы используются на разделе с логами.&lt;/p&gt;

&lt;h3 id=&quot;section-6&quot;&gt;Вопрос 4:&lt;/h3&gt;
&lt;p&gt;Напишите программу на bourne shell (не bash!) и/или perl, выводящую простые (делятся на только на 1 и на само себя) числа от 1 до 500.&lt;/p&gt;

&lt;h3 id=&quot;section-7&quot;&gt;Ответ:&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/sh&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo &lt;/span&gt;enter a range
 &lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;rng
 &lt;span class=&quot;nb&quot;&gt;echo &lt;/span&gt;2
 &lt;span class=&quot;nv&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;3
 &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$j&lt;/span&gt; -le &lt;span class=&quot;nv&quot;&gt;$rng&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
 &lt;span class=&quot;nv&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2
 &lt;span class=&quot;nv&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;expr &lt;span class=&quot;nv&quot;&gt;$j&lt;/span&gt; - 1&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; -le &lt;span class=&quot;nv&quot;&gt;$x&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;expr &lt;span class=&quot;nv&quot;&gt;$j&lt;/span&gt; % &lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; -ne &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
 &lt;span class=&quot;nv&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;expr &lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; + 1&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;break&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; -eq &lt;span class=&quot;nv&quot;&gt;$j&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$j&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
 &lt;span class=&quot;nv&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;expr &lt;span class=&quot;nv&quot;&gt;$j&lt;/span&gt; + 1&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;section-8&quot;&gt;Вопрос 5:&lt;/h3&gt;
&lt;p&gt;Написать регулярное выражение под которое подходит число от 1 до 1999&lt;/p&gt;

&lt;h3 id=&quot;section-9&quot;&gt;Ответ:&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s1&quot;&gt;&amp;#39;10\n2\n199\n10000\n&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;grep -P &lt;span class=&quot;s1&quot;&gt;&amp;#39;^1?\d{1,3}$&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;section-10&quot;&gt;Вопрос 6:&lt;/h3&gt;
&lt;p&gt;На каком уровне 7-миуровневой модели ISO OSI работает протокол udp? (ответ можо написать названием, можно номером)&lt;/p&gt;

&lt;h3 id=&quot;section-11&quot;&gt;Ответ:&lt;/h3&gt;
&lt;p&gt;Транспортный уровень - 4 номер.&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;https://jivoi.github.io/2014/01/04/answers-for-mailru/&quot;&gt;Ответы для Mail.ru - Вакансия 'Системный администратор'&lt;/a&gt; was originally published by EK at &lt;a href=&quot;https://jivoi.github.io&quot;&gt;EK&lt;/a&gt; on January 04, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Как установить CentOS на %Linux% по SSH]]></title>
  <link rel="alternate" type="text/html" href="https://jivoi.github.io/2014/01/03/install-centos-over-centos-by-ssh/" />
  <id>https://jivoi.github.io/2014/01/03/install-centos-over-centos-by-ssh</id>
  <updated>2014-01-03 13:43:49 +0400T00:00:00-00:00</updated>
  <published>2014-01-03T00:00:00+04:00</published>
  
  <author>
    <name>EK</name>
    <uri>https://jivoi.github.io</uri>
    <email>ekoz@protonmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Как установить CentOS на другой %Linux% по SSH.
Это нам нужно если мы хотим поменять архитектуру i386 на x64 или поставить более новую версии поверх старой, в случае замены CentOS на CentOS или же если мы хотим заменить ArchLinux на CentOS.&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;Дано:&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;Настроенный сервер с kickstart&lt;/li&gt;
  &lt;li&gt;Сервер с CentOS любой версии который мы будем переустанавливать&lt;/li&gt;
  &lt;li&gt;Прямые руки.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;initrd--vmlinuz--&quot;&gt;1. Скачиваем initrd и vmlinuz нужной версии&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;wget -O /boot/initrd_remote.img http://mirror.yandex.ru/centos/6.0/os/x86_64/isolinux/initrd.img
wget -O /boot/vmlinuz_remote http://mirror.yandex.ru/centos/6.0/os/x86_64/isolinux/vmlinuz&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;bootgrubgrubconf&quot;&gt;2. Правим /boot/grub/grub.conf&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ИЗМЕНИТЬ ВСЕ НУЖНЫЕ ЗНАЧЕНИЯ НА ПРАВИЛЬНЫЕ!&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ks файл&lt;/li&gt;
  &lt;li&gt;IP\GATE\NETMASK!**&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;title CentOS Remote Install
root &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;hd0,0&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
kernel /boot/vmlinuz_remote &lt;span class=&quot;nv&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;en_US &lt;span class=&quot;nv&quot;&gt;keymap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;us &lt;span class=&quot;nv&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://ks.example.com/ &lt;span class=&quot;nv&quot;&gt;ks&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://ks.example.com/ks.cfg &lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;192.168.0.10 &lt;span class=&quot;nv&quot;&gt;netmask&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;255.255.255.0 &lt;span class=&quot;nv&quot;&gt;gateway&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;192.168.0.1 &lt;span class=&quot;nv&quot;&gt;dns&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;8.8.8.8 noselinux headless
initrd /boot/initrd_remote.img&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;section-1&quot;&gt;3.Правим порядок загрузки из консоли&lt;/h3&gt;
&lt;p&gt;Предполагается, что наша конфигурация идет вторым пунктом меню.
Мы указали grub попробовать загрузить ее один раз.
Если что-то пойдет не так, вернемся к ранее установленному дистрибутиву после перезагрузки, через 120 секунд.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;root@localhost ~&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;# echo &amp;#39;savedefault --default=1 --once&amp;#39; | grub --batch&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


  &lt;p&gt;&lt;a href=&quot;https://jivoi.github.io/2014/01/03/install-centos-over-centos-by-ssh/&quot;&gt;Как установить CentOS на %Linux% по SSH&lt;/a&gt; was originally published by EK at &lt;a href=&quot;https://jivoi.github.io&quot;&gt;EK&lt;/a&gt; on January 03, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Установка CentOS из под FreeBSD по SSH]]></title>
  <link rel="alternate" type="text/html" href="https://jivoi.github.io/2014/01/02/install-centos-over-freebsd-by-ssh/" />
  <id>https://jivoi.github.io/2014/01/02/install-centos-over-freebsd-by-ssh</id>
  <updated>2014-01-02 13:43:49 +0400T00:00:00-00:00</updated>
  <published>2014-01-02T00:00:00+04:00</published>
  
  <author>
    <name>EK</name>
    <uri>https://jivoi.github.io</uri>
    <email>ekoz@protonmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Руководство как установить CentOS из под FreeBSD по SSH.
Задавайте вопросы в комментах, если что-то не понятно.&lt;/p&gt;

&lt;h3 id=&quot;section&quot;&gt;Дано:&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;Настроенный сервер с kickstart&lt;/li&gt;
  &lt;li&gt;Сервер с FreeBSD любой версии который будем переустанавливать&lt;/li&gt;
  &lt;li&gt;Прямые руки. =)&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;grub2--e2fsprogs--freebsd&quot;&gt;1.Устанавливаем нужные пакеты из портов(GRUB2 и e2fsprogs) на FreeBSD&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /usr/ports/sysutils/grub2&lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;make install
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /usr/ports/sysutils/e2fsprogs&lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;make install&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;tmp-ext2--&quot;&gt;2.Создаем на разделе /tmp ext2 файловую систему&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;/dev/amrd0s1f              1.9G    155M    1.6G     9%    /tmp
/dev/amrd0s1f on /tmp &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;ufs, &lt;span class=&quot;nb&quot;&gt;local&lt;/span&gt;, soft-updates&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

umount /tmp
mke2fs /dev/amrd0s1f
mount -t ext2fs /dev/amrd0s1f /mnt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Незабыть удалить из /etc/fstab, чтобы можно было загрузится в BSD если чтото пойдет не так!&lt;/p&gt;

&lt;h3 id=&quot;ext2--initrd--vmlinuz--&quot;&gt;3. Копируем на ext2 раздел initrd и vmlinuz нужной версии&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;fetch -o /mnt/initrd_remote.img http://mirror.yandex.ru/centos/6.0/os/x86_64/isolinux/initrd.img
fetch -o /mnt/vmlinuz_remote http://mirror.yandex.ru/centos/6.0/os/x86_64/isolinux/vmlinuz

wget -O /initrd_remote.img http://mirror.yandex.ru/centos/6.0/os/x86_64/isolinux/initrd.img
wget -O /vmlinuz_remote http://mirror.yandex.ru/centos/6.0/os/x86_64/isolinux/vmlinuz&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;grub2--mbr----&quot;&gt;4.Устанавливаем grub2 в MBR и создаем кофиг загрузки&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;grub2-install /dev/amrd0
grub-mkconfig
/usr/local/etc/grub.d/00_header
/usr/local/etc/grub.d/40_custom
grub-mkconfig -o /boot/grub/grub.cfg&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Нужно поправить /usr/local/etc/grub.d/00_header выставив default=1
В /usr/local/etc/grub.d/40_custom прописать наш новый тип загрузки, для CentOS 6 x64 он будет следующим.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ИЗМЕНИТЬ ВСЕ НУЖНЫЕ ЗНАЧЕНИЯ НА ПРАВИЛЬНЫЕ!&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;root=’(hd0,1,f)’ - буква должна соответствовать букве /tmp слайса!! в нашем случае это /dev/amrd0s1f тоесть f&lt;/li&gt;
  &lt;li&gt;ks файл&lt;/li&gt;
  &lt;li&gt;IP\GATE\NETMASK!&lt;/li&gt;
  &lt;li&gt;НЕ ЗАБЫТЬ ВЫПОЛНИТЬ grub-mkconfig -o /boot/grub/grub.cfg чтобы обновился конфиг grub!!&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;menuentry &lt;span class=&quot;s2&quot;&gt;&amp;quot;CentOS&amp;quot;&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        insmod ext2
        &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;(hd0,1,f)&amp;#39;&lt;/span&gt;
        linux /vmlinuz_remote &lt;span class=&quot;nv&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;en_US &lt;span class=&quot;nv&quot;&gt;keymap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;us &lt;span class=&quot;nv&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://ks.example.com/ &lt;span class=&quot;nv&quot;&gt;ks&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://ks.example.com/ks.cfg vnc &lt;span class=&quot;nv&quot;&gt;vncpassword&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;qwe123 &lt;span class=&quot;nv&quot;&gt;ksdevice&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;eth0 &lt;span class=&quot;nv&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;192.168.0.10 &lt;span class=&quot;nv&quot;&gt;netmask&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;255.255.255.0 &lt;span class=&quot;nv&quot;&gt;gateway&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;192.168.0.1 &lt;span class=&quot;nv&quot;&gt;dns&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;8.8.8.8 noselinux headless&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


  &lt;p&gt;&lt;a href=&quot;https://jivoi.github.io/2014/01/02/install-centos-over-freebsd-by-ssh/&quot;&gt;Установка CentOS из под FreeBSD по SSH&lt;/a&gt; was originally published by EK at &lt;a href=&quot;https://jivoi.github.io&quot;&gt;EK&lt;/a&gt; on January 02, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Blogging with github]]></title>
  <link rel="alternate" type="text/html" href="https://jivoi.github.io/2014/01/01/blogging-with-github/" />
  <id>https://jivoi.github.io/2014/01/01/blogging-with-github</id>
  <updated>2014-01-01 13:43:49 +0400T00:00:00-00:00</updated>
  <published>2014-01-01T00:00:00+04:00</published>
  
  <author>
    <name>EK</name>
    <uri>https://jivoi.github.io</uri>
    <email>ekoz@protonmail.com</email>
  </author>
  <content type="html">&lt;p&gt;Use github and jekyll for blog&lt;/p&gt;

&lt;h3 id=&quot;install-rvm-and-nvm&quot;&gt;Install RVM and NVM&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;curl -sSL https://get.rvm.io &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; bash -s stable --ruby
rvm install 2.1
rvm use 2.1 --default
gem install bundle
wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.24.1/install.sh &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; bash
nvm install 0.10
nvm use 0.10&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;clone-github-repo-and-install-jekyll&quot;&gt;Clone Github Repo and install Jekyll&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;git clone -b develop https://github.com/jivoi/jivoi.github.io.git
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;jivoi.github.io
bundle install
git clone -b master https://github.com/jivoi/jivoi.github.io.git _site
rake new_post
vim _posts/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;build-and-test&quot;&gt;Build and Test&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;jekyll b
jekyll s --host 0.0.0.0 --watch&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;commit-and-deploy&quot;&gt;Commit and deploy&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;git st
git add _posts/*
git push -u origin develop
git commit -a -m &lt;span class=&quot;s2&quot;&gt;&amp;quot;blogging with github&amp;quot;&lt;/span&gt;
rake deploy&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


  &lt;p&gt;&lt;a href=&quot;https://jivoi.github.io/2014/01/01/blogging-with-github/&quot;&gt;Blogging with github&lt;/a&gt; was originally published by EK at &lt;a href=&quot;https://jivoi.github.io&quot;&gt;EK&lt;/a&gt; on January 01, 2014.&lt;/p&gt;</content>
</entry>


<entry>
  <title type="html"><![CDATA[Red Hat RHCE Prepare]]></title>
  <link rel="alternate" type="text/html" href="https://jivoi.github.io/2013/06/19/red-hat-rhce-prepare/" />
  <id>https://jivoi.github.io/2013/06/19/red-hat-rhce-prepare</id>
  <updated>2013-06-19 14:09:19 +0400T00:00:00-00:00</updated>
  <published>2013-06-19T00:00:00+04:00</published>
  
  <author>
    <name>EK</name>
    <uri>https://jivoi.github.io</uri>
    <email>ekoz@protonmail.com</email>
  </author>
  <content type="html">&lt;p&gt;The way that i went for RHCE Certification&lt;/p&gt;

&lt;h3 id=&quot;what-is-rhce&quot;&gt;What is RHCE&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.redhat.com/en/services/certification/rhce&quot;&gt;RedHat Site&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Red_Hat_Certification_Program&quot;&gt;Wikipedia&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;courses&quot;&gt;Courses&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;RH300 - Fast prepare for RHCE include exam RHCSA and RHCE www.rhd.ru&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;books&quot;&gt;Books&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;UNIX and Linux System Administration Handbook by Evi Nemeth&lt;/li&gt;
  &lt;li&gt;RHCE - RH254 student workbook&lt;/li&gt;
  &lt;li&gt;LPI 101 and LPI 102 student workbooks&lt;/li&gt;
  &lt;li&gt;RHCSA/RHCE Red Hat Linux Certification Study Guide&lt;/li&gt;
  &lt;li&gt;Hands-on Guide to the Red Hat Exams: RHCSA and RHCE Cert Guide and Lab Manual&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;watch&quot;&gt;2 Watch&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Livelessons (RHCE) Certification Complete Video Course&lt;/li&gt;
  &lt;li&gt;VTC Red Hat Certified Engineer (RHCE) - Exam EX300&lt;/li&gt;
&lt;/ul&gt;

  &lt;p&gt;&lt;a href=&quot;https://jivoi.github.io/2013/06/19/red-hat-rhce-prepare/&quot;&gt;Red Hat RHCE Prepare&lt;/a&gt; was originally published by EK at &lt;a href=&quot;https://jivoi.github.io&quot;&gt;EK&lt;/a&gt; on June 19, 2013.&lt;/p&gt;</content>
</entry>

</feed>
